"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[399],{1208:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>l,toc:()=>d});var n=s(4848),i=s(8453),r=s(4252);const a={id:"configuration",title:"Configuring Jest"},o=void 0,l={id:"configuration",title:"Configuring Jest",description:"The Jest Lua philosophy is to work great by default, but sometimes you just need more configuration power.",source:"@site/docs/Configuration.md",sourceDirName:".",slug:"/configuration",permalink:"/jest-lua/configuration",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"configuration",title:"Configuring Jest"},sidebar:"api",previous:{title:"The Jest Object",permalink:"/jest-lua/jest-object"},next:{title:"runCLI Options",permalink:"/jest-lua/cli"}},c={},d=[{value:"Options",id:"options",level:2},{value:"Reference",id:"reference",level:2},{value:"<code>clearmocks</code> [boolean]",id:"clearmocks-boolean",level:3},{value:"<code>displayName</code> [string, table]",id:"displayname-string-table",level:3},{value:"<code>projects</code> [array&lt;Instance&gt;]",id:"projects-arrayinstance",level:3},{value:"<code>rootDir</code> [Instance]",id:"rootdir-instance",level:3},{value:"<code>roots</code> [array&lt;Instance&gt;]",id:"roots-arrayinstance",level:3},{value:"<code>setupFiles</code> [array&lt;ModuleScript&gt;]",id:"setupfiles-arraymodulescript",level:3},{value:"<code>setupFilesAfterEnv</code> [array&lt;ModuleScript&gt;]",id:"setupfilesafterenv-arraymodulescript",level:3},{value:"<code>slowTestThreshold</code> [number]",id:"slowtestthreshold-number",level:3},{value:"<code>snapshotFormat</code> [table]",id:"snapshotformat-table",level:3},{value:"<code>snapshotSerializers</code> [array&lt;serializer&gt;]",id:"snapshotserializers-arrayserializer",level:3},{value:"<code>testFailureExitCode</code> [number]",id:"testfailureexitcode-number",level:3},{value:"<code>testMatch</code> [array&lt;string&gt;]",id:"testmatch-arraystring",level:3},{value:"<code>testPathIgnorePatterns</code> [array&lt;string&gt;]",id:"testpathignorepatterns-arraystring",level:3},{value:"<code>testRegex</code> [string | array&lt;string&gt;]",id:"testregex-string--arraystring",level:3},{value:"<code>testTimeout</code> [number]",id:"testtimeout-number",level:3},{value:"<code>verbose</code> [boolean]",id:"verbose-boolean",level:3}];function h(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:(0,n.jsx)("a",{href:"https://jestjs.io/docs/27.x/configuration",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})})}),"\n",(0,n.jsx)(t.p,{children:"The Jest Lua philosophy is to work great by default, but sometimes you just need more configuration power."}),"\n",(0,n.jsx)("img",{alt:"deviation",src:"img/deviation.svg"}),"\n",(0,n.jsxs)(t.p,{children:["The configuration should be defined in a ",(0,n.jsx)(t.code,{children:"jest.config.lua"})," file."]}),"\n",(0,n.jsx)(t.p,{children:"The configuration file should simply export a table:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-lua",children:"return {\n\tverbose = true,\n}\n"})}),"\n",(0,n.jsx)(t.p,{children:"Or an async function returning an object:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-lua",children:"return Promise.resolve():andThen(function()\n\treturn {\n\t\tverbose = true,\n\t}\nend)\n"})}),"\n",(0,n.jsx)(t.h2,{id:"options",children:"Options"}),"\n","\n","\n",(0,n.jsx)(r.A,{toc:d.filter((e=>3===e.level))}),"\n",(0,n.jsx)(t.h2,{id:"reference",children:"Reference"}),"\n",(0,n.jsxs)(t.h3,{id:"clearmocks-boolean",children:[(0,n.jsx)(t.code,{children:"clearmocks"})," [boolean]"]}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/27.x/configuration#clearmocks-boolean",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"Aligned",src:"img/aligned.svg"}),"\n",(0,n.jsxs)(t.p,{children:["Default: ",(0,n.jsx)(t.code,{children:"false"})]}),"\n",(0,n.jsxs)(t.p,{children:["Automatically clear mock calls, instances, contexts and results before every test. Equivalent to calling ",(0,n.jsx)(t.a,{href:"jest-object#jestclearallmocks",children:(0,n.jsx)(t.code,{children:"jest.clearAllMocks()"})})," before each test. This does not remove any mock implementation that may have been provided."]}),"\n",(0,n.jsxs)(t.h3,{id:"displayname-string-table",children:[(0,n.jsx)(t.code,{children:"displayName"})," [string, table]"]}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/27.x/configuration#displayname-string-object",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"API change",src:"img/apichange.svg"}),"\n",(0,n.jsxs)(t.p,{children:["Default: ",(0,n.jsx)(t.code,{children:"nil"})]}),"\n",(0,n.jsx)(t.p,{children:"Allows for a label to be printed alongside a test while it is running. This becomes more useful in multi-project repositories where there can be many jest configuration files. This visually tells which project a test belongs to."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-lua",children:"return {\n\tdisplayName = 'CLIENT',\n}\n"})}),"\n",(0,n.jsxs)(t.p,{children:["Alternatively, a table with the keys ",(0,n.jsx)(t.code,{children:"name"})," and ",(0,n.jsx)(t.code,{children:"color"})," can be passed. This allows for a custom configuration of the background color of the displayName. ",(0,n.jsx)(t.code,{children:"displayName"})," defaults to white when its value is a string. Jest Lua uses ",(0,n.jsx)(t.a,{href:"https://github.com/Roblox/chalk-lua",children:(0,n.jsx)(t.code,{children:"chalk-lua"})})," to provide the color. As such, all of the valid options for colors supported by ",(0,n.jsx)(t.code,{children:"chalk-lua"})," are also supported by Jest Lua."]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-lua",children:"return {\n\tdisplayName = {\n\t\tname = 'CLIENT',\n\t\tcolor = 'blue',\n\t}\n}\n"})}),"\n",(0,n.jsxs)(t.h3,{id:"projects-arrayinstance",children:[(0,n.jsx)(t.code,{children:"projects"})," [array<Instance>]"]}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/27.x/configuration#projects-arraystring--projectconfig",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"API change",src:"img/apichange.svg"}),"\n",(0,n.jsxs)(t.p,{children:["Default: ",(0,n.jsx)(t.code,{children:"nil"})]}),"\n",(0,n.jsxs)(t.p,{children:["When the ",(0,n.jsx)(t.code,{children:"projects"})," configuration is provided with an array of instances, Jest Lua will run tests in all of the specified projects at the same time. This is great for monorepos or when working on multiple projects at the same time."]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-lua",children:"return {\n\tprojects = { Workspace.ProjectB, Workspace.ProjectB },\n}\n"})}),"\n",(0,n.jsxs)(t.p,{children:["This example configuration will run Jest Lua in the ",(0,n.jsx)(t.code,{children:"ProjectA"})," as well as the ",(0,n.jsx)(t.code,{children:"ProjectB"})," directories. You can have an unlimited amount of projects running in the same Jest Lua instance."]}),"\n",(0,n.jsx)(t.admonition,{type:"tip",children:(0,n.jsxs)(t.p,{children:["When using multi-project runner, it's recommended to add a ",(0,n.jsx)(t.code,{children:"displayName"})," for each project. This will show the ",(0,n.jsx)(t.code,{children:"displayName"})," of a project next to its tests."]})}),"\n",(0,n.jsxs)(t.h3,{id:"rootdir-instance",children:[(0,n.jsx)(t.code,{children:"rootDir"})," [Instance]"]}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/27.x/configuration#rootdir-string",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"API change",src:"img/apichange.svg"}),"\n",(0,n.jsxs)(t.p,{children:["Default: The root of the directory containing your Jest Lua ",(0,n.jsx)(t.a,{href:"#",children:"config file"}),"."]}),"\n",(0,n.jsx)(t.p,{children:"The root directory that Jest Lua should scan for tests and modules within."}),"\n",(0,n.jsx)(t.p,{children:"Oftentimes, you'll want to set this to your main workspace, corresponding to where in your repository the code is stored."}),"\n",(0,n.jsxs)(t.h3,{id:"roots-arrayinstance",children:[(0,n.jsx)(t.code,{children:"roots"})," [array<Instance>]"]}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/27.x/configuration#roots-arraystring",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"API change",src:"img/apichange.svg"}),"\n",(0,n.jsxs)(t.p,{children:["Default: ",(0,n.jsx)(t.code,{children:"{<rootDir>}"})]}),"\n",(0,n.jsx)(t.p,{children:"A list of paths to directories that Jest Lua should use to search for files in."}),"\n",(0,n.jsxs)(t.p,{children:["There are times where you only want Jest Lua to search in a single sub-directory (such as cases where you have a ",(0,n.jsx)(t.code,{children:"src/"})," directory in your repo), but prevent it from accessing the rest of the repo."]}),"\n",(0,n.jsxs)(t.h3,{id:"setupfiles-arraymodulescript",children:[(0,n.jsx)(t.code,{children:"setupFiles"})," [array<ModuleScript>]"]}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/27.x/configuration#setupfiles-array",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"API change",src:"img/apichange.svg"}),"\n",(0,n.jsxs)(t.p,{children:["Default: ",(0,n.jsx)(t.code,{children:"{}"})]}),"\n",(0,n.jsxs)(t.p,{children:["A list of ModuleScripts that run some code to configure or set up the testing environment. Each setupFile will be run once per test file. Since every test runs in its own environment, these scripts will be executed in the testing environment before executing ",(0,n.jsx)(t.a,{href:"#setupfilesafterenv-array",children:(0,n.jsx)(t.code,{children:"setupFilesAfterEnv"})})," and before the test code itself."]}),"\n",(0,n.jsxs)(t.h3,{id:"setupfilesafterenv-arraymodulescript",children:[(0,n.jsx)(t.code,{children:"setupFilesAfterEnv"})," [array<ModuleScript>]"]}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/27.x/configuration#setupfilesafterenv-array",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"API change",src:"img/apichange.svg"}),"\n",(0,n.jsxs)(t.p,{children:["Default: ",(0,n.jsx)(t.code,{children:"{}"})]}),"\n",(0,n.jsxs)(t.p,{children:["A list of ModuleScripts that run some code to configure or set up the testing framework before each test file in the suite is executed. Since ",(0,n.jsx)(t.a,{href:"#setupfiles-arraymodulescript",children:(0,n.jsx)(t.code,{children:"setupFiles"})})," executes before the test framework is installed in the environment, this script file presents you the opportunity of running some code immediately after the test framework has been installed in the environment but before the test code itself."]}),"\n",(0,n.jsxs)(t.p,{children:["In other words, ",(0,n.jsx)(t.code,{children:"setupFilesAfterEnv"})," modules are meant for code which is repeating in each test file. Having the test framework installed makes Jest ",(0,n.jsx)(t.a,{href:"api",children:"globals"}),", ",(0,n.jsxs)(t.a,{href:"jest-object",children:[(0,n.jsx)(t.code,{children:"jest"})," object"]})," and ",(0,n.jsx)(t.a,{href:"expect",children:(0,n.jsx)(t.code,{children:"expect"})})," accessible in the modules. For example, you can add ",(0,n.jsx)(t.a,{href:"expect#expectextendmatchers",children:"extra matchers"})," or call ",(0,n.jsx)(t.a,{href:"setup-teardown",children:"setup and teardown"})," hooks:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-lua",metastring:'title="setupJest.lua"',children:'local JestGlobals = require("@DevPackages/JestGlobals")\nlocal jest = JestGlobals.jest\nlocal expect = JestGlobals.expect\nlocal afterEach = JestGlobals.afterEach\n\nexpect.extend({\n\tnewMatcher = function(self, received, expected)\n\t\t-- ...\n\tend)\n})\n\nafterEach(function()\n\tjest.useRealTimers()\nend)\n'})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-lua",metastring:'title="jest.config.lua"',children:"return {\n\tsetupFilesAfterEnv = { Workspace.setupJest },\n}\n"})}),"\n",(0,n.jsxs)(t.h3,{id:"slowtestthreshold-number",children:[(0,n.jsx)(t.code,{children:"slowTestThreshold"})," [number]"]}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/27.x/configuration#slowtestthreshold-number",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"Aligned",src:"img/aligned.svg"}),"\n",(0,n.jsxs)(t.p,{children:["Default: ",(0,n.jsx)(t.code,{children:"5"})]}),"\n",(0,n.jsx)(t.p,{children:"The number of seconds after which a test is considered as slow and reported as such in the results."}),"\n",(0,n.jsxs)(t.h3,{id:"snapshotformat-table",children:[(0,n.jsx)(t.code,{children:"snapshotFormat"})," [table]"]}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/27.x/configuration#snapshotformat-object",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"Aligned",src:"img/aligned.svg"}),"\n",(0,n.jsxs)(t.p,{children:["Default: ",(0,n.jsx)(t.code,{children:"nil"})]}),"\n",(0,n.jsxs)(t.p,{children:["Allows overriding specific snapshot formatting options documented in the ",(0,n.jsx)(t.a,{href:"https://github.com/facebook/jest/blob/main/packages/pretty-format/README.md#usage-with-options",children:"pretty-format readme"}),", with the exceptions of ",(0,n.jsx)(t.code,{children:"compareKeys"})," and ",(0,n.jsx)(t.code,{children:"plugins"}),"."]}),"\n",(0,n.jsx)("img",{alt:"deviation",src:"img/deviation.svg"}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"pretty-format"})," also supports the formatting option ",(0,n.jsx)(t.code,{children:"printInstanceDefaults"})," (default: ",(0,n.jsx)(t.code,{children:"true"}),") which can be set to ",(0,n.jsx)(t.code,{children:"false"})," to only print properties of a Roblox ",(0,n.jsx)(t.code,{children:"Instance"})," that have been changed."]}),"\n",(0,n.jsxs)(t.p,{children:["For example, this config would have the snapshot formatter not print out any unmodified values of ",(0,n.jsx)(t.code,{children:"TextLabel"}),"."]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-lua",metastring:'title="jest.config.lua"',children:'return {\n\ttestMatch = { "**/*.spec" },\n\tsnapshotFormat = { printInstanceDefaults = false }\n}\n'})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-lua",metastring:'title="test.spec.lua"',children:'test(\'printInstanceDefaults\', function()\n\tlocal label = Instance.new("TextLabel")\n\tlabel.Text = "Hello"\n\texpect(label).toMatchSnapshot()\nend)\n'})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-lua",metastring:'title="test.spec.snap.lua"',children:'exports[ [=[printInstanceDefaults 1]=] ] = [=[\n\nTextLabel {\n  "Text": "Hello",\n}\n]=]\n'})}),"\n",(0,n.jsxs)(t.h3,{id:"snapshotserializers-arrayserializer",children:[(0,n.jsx)(t.code,{children:"snapshotSerializers"})," [array<serializer>]"]}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/27.x/configuration#snapshotserializers-arraystring",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"API change",src:"img/apichange.svg"}),"\n",(0,n.jsxs)(t.p,{children:["Default: ",(0,n.jsx)(t.code,{children:"{}"})]}),"\n",(0,n.jsx)(t.p,{children:"A list of snapshot serializers Jest Lua should use for snapshot testing."}),"\n",(0,n.jsx)(t.p,{children:"Jest Lua has default serializers for built-in Lua types, Roblox types and Instances, and React Roblox elements."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-lua",metastring:'title="customSerializer.lua"',children:'local function serialize(val, config, indentation, depth, refs, printer)\n\treturn "Pretty foo: "\n\t\t.. printer(val.foo, config, indentation, depth, refs, printer)\nend\n\nlocal function test(val)\n\treturn typeof(val) == "table" and val.foo ~= nil\nend\n\nreturn {\n\tserialize = serialize,\n\ttest = test,\n}\n'})}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"printer"})," is a function that serializes a value using existing plugins."]}),"\n",(0,n.jsxs)(t.p,{children:["Add ",(0,n.jsx)(t.code,{children:"customSerializer"})," to your Jest Lua configuration:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-lua",children:"return {\n\tsnapshotSerializers = { Workspace.customSerializer }\n}\n"})}),"\n",(0,n.jsx)(t.p,{children:"Finally tests would look as follows:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-lua",children:"test('uses custom serializer', function()\n\tlocal bar = {\n\t\tfoo = {\n\t\t\tx = 1,\n\t\t\ty = 2,\n\t\t}\n\t}\n\texpect(bar).toMatchSnapshot()\nend)\n"})}),"\n",(0,n.jsx)(t.p,{children:"Rendered snapshot:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-lua",children:'Pretty foo: Table {\n  "x": 1,\n  "y": 2,\n}\n'})}),"\n",(0,n.jsxs)(t.p,{children:["To make a dependency explicit instead of implicit, you can call ",(0,n.jsx)(t.a,{href:"expect#expectaddsnapshotserializerserializer",children:(0,n.jsx)(t.code,{children:"expect.addSnapshotSerializer"})})," to add a module for an individual test file instead of adding its path to ",(0,n.jsx)(t.code,{children:"snapshotSerializers"})," in Jest configuration."]}),"\n",(0,n.jsxs)(t.p,{children:["More about serializers API can be found ",(0,n.jsx)(t.a,{href:"https://github.com/facebook/jest/tree/main/packages/pretty-format/README.md#serialize",children:"here"}),"."]}),"\n",(0,n.jsxs)(t.h3,{id:"testfailureexitcode-number",children:[(0,n.jsx)(t.code,{children:"testFailureExitCode"})," [number]"]}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/27.x/configuration#testfailureexitcode-number",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"Aligned",src:"img/aligned.svg"}),"\n",(0,n.jsxs)(t.p,{children:["Default: ",(0,n.jsx)(t.code,{children:"1"})]}),"\n",(0,n.jsx)(t.p,{children:"The exit code Jest Lua returns on test failure."}),"\n",(0,n.jsx)(t.admonition,{type:"info",children:(0,n.jsx)(t.p,{children:"This does not change the exit code in the case of Jest Lua errors (e.g. invalid configuration)."})}),"\n",(0,n.jsxs)(t.h3,{id:"testmatch-arraystring",children:[(0,n.jsx)(t.code,{children:"testMatch"})," [array<string>]"]}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/27.x/configuration#testmatch-arraystring",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"Deviation",src:"img/deviation.svg"}),"\n",(0,n.jsxs)(t.p,{children:["Default: ",(0,n.jsx)(t.code,{children:'{ "**/__tests__/**/*", "**/?(*.)+(spec|test)" }'})]}),"\n",(0,n.jsxs)(t.p,{children:["The glob patterns Jest Lua uses to detect test files.\nBy default it looks for ",(0,n.jsx)(t.code,{children:".spec"})," or ",(0,n.jsx)(t.code,{children:".test"})," files inside of ",(0,n.jsx)(t.code,{children:"__tests__"})," folders, as well as any files with a suffix of ",(0,n.jsx)(t.code,{children:".test"})," or ",(0,n.jsx)(t.code,{children:".spec"})," (e.g. ",(0,n.jsx)(t.code,{children:"Component.test.lua"})," or ",(0,n.jsx)(t.code,{children:"Component.spec.lua"}),"). It will also find files called ",(0,n.jsx)(t.code,{children:"test.lua"})," or ",(0,n.jsx)(t.code,{children:"spec.lua"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["See the ",(0,n.jsx)(t.a,{href:"https://github.com/micromatch/micromatch",children:"micromatch"})," package for details of the patterns you can specify."]}),"\n",(0,n.jsxs)(t.p,{children:["See also ",(0,n.jsxs)(t.a,{href:"#testregex-string--arraystring",children:[(0,n.jsx)(t.code,{children:"testRegex"})," [string | array<string>]"]}),", but note that you cannot specify both options."]}),"\n",(0,n.jsx)(t.admonition,{type:"tip",children:(0,n.jsxs)(t.p,{children:["Each glob pattern is applied in the order they are specified in the config. For example ",(0,n.jsx)(t.code,{children:'{"!**/__fixtures__/**", "**/__tests__/**/*.spec"}'})," will not exclude ",(0,n.jsx)(t.code,{children:"__fixtures__"})," because the negation is overwritten with the second pattern. In order to make the negated glob work in this example it has to come after ",(0,n.jsx)(t.code,{children:"**/__tests__/**/*.spec"}),"."]})}),"\n",(0,n.jsxs)(t.h3,{id:"testpathignorepatterns-arraystring",children:[(0,n.jsx)(t.code,{children:"testPathIgnorePatterns"})," [array<string>]"]}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/27.x/configuration#testpathignorepatterns-arraystring",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"Deviation",src:"img/deviation.svg"}),"\n",(0,n.jsxs)(t.p,{children:["Default: ",(0,n.jsx)(t.code,{children:"{}"})]}),"\n",(0,n.jsx)(t.p,{children:"An array of regexp pattern strings that are matched against all test paths before executing the test. If the test path matches any of the patterns, it will be skipped."}),"\n",(0,n.jsxs)(t.h3,{id:"testregex-string--arraystring",children:[(0,n.jsx)(t.code,{children:"testRegex"})," [string | array<string>]"]}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/27.x/configuration#testregex-string--arraystring",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"Deviation",src:"img/deviation.svg"}),"\n",(0,n.jsxs)(t.p,{children:["Default: ",(0,n.jsx)(t.code,{children:"{}"})]}),"\n",(0,n.jsxs)(t.p,{children:["The pattern or patterns Jest Lua uses to detect test files. See also ",(0,n.jsxs)(t.a,{href:"#testmatch-arraystring",children:[(0,n.jsx)(t.code,{children:"testMatch"})," [array<string>]"]}),", but note that you cannot specify both options."]}),"\n",(0,n.jsx)(t.admonition,{type:"info",children:(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"testRegex"})," will try to detect test files using the ",(0,n.jsx)(t.strong,{children:"absolute file path"}),", therefore, having a folder with a name that matches it will run all the files as tests."]})}),"\n",(0,n.jsxs)(t.h3,{id:"testtimeout-number",children:[(0,n.jsx)(t.code,{children:"testTimeout"})," [number]"]}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/27.x/configuration#testtimeout-number",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"Aligned",src:"img/aligned.svg"}),"\n",(0,n.jsxs)(t.p,{children:["Default: ",(0,n.jsx)(t.code,{children:"5000"})]}),"\n",(0,n.jsx)(t.p,{children:"Default timeout of a test in milliseconds."}),"\n",(0,n.jsxs)(t.h3,{id:"verbose-boolean",children:[(0,n.jsx)(t.code,{children:"verbose"})," [boolean]"]}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/27.x/configuration#verbose-boolean",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"Aligned",src:"img/aligned.svg"}),"\n",(0,n.jsxs)(t.p,{children:["Default: ",(0,n.jsx)(t.code,{children:"false"})]}),"\n",(0,n.jsxs)(t.p,{children:["Indicates whether each individual test should be reported during the run. All errors will also still be shown on the bottom after execution. Note that if there is only one test file being run it will default to ",(0,n.jsx)(t.code,{children:"true"}),"."]})]})}function u(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},4252:(e,t,s)=>{s.d(t,{A:()=>a});s(6540);var n=s(5195);const i={tableOfContentsInline:"tableOfContentsInline_prmo"};var r=s(4848);function a(e){let{toc:t,minHeadingLevel:s,maxHeadingLevel:a}=e;return(0,r.jsx)("div",{className:i.tableOfContentsInline,children:(0,r.jsx)(n.A,{toc:t,minHeadingLevel:s,maxHeadingLevel:a,className:"table-of-contents",linkClassName:null})})}},5195:(e,t,s)=>{s.d(t,{A:()=>p});var n=s(6540),i=s(6342);function r(e){const t=e.map((e=>({...e,parentIndex:-1,children:[]}))),s=Array(7).fill(-1);t.forEach(((e,t)=>{const n=s.slice(2,e.level);e.parentIndex=Math.max(...n),s[e.level]=t}));const n=[];return t.forEach((e=>{const{parentIndex:s,...i}=e;s>=0?t[s].children.push(i):n.push(i)})),n}function a(e){let{toc:t,minHeadingLevel:s,maxHeadingLevel:n}=e;return t.flatMap((e=>{const t=a({toc:e.children,minHeadingLevel:s,maxHeadingLevel:n});return function(e){return e.level>=s&&e.level<=n}(e)?[{...e,children:t}]:t}))}function o(e){const t=e.getBoundingClientRect();return t.top===t.bottom?o(e.parentNode):t}function l(e,t){let{anchorTopOffset:s}=t;const n=e.find((e=>o(e).top>=s));if(n){return function(e){return e.top>0&&e.bottom<window.innerHeight/2}(o(n))?n:e[e.indexOf(n)-1]??null}return e[e.length-1]??null}function c(){const e=(0,n.useRef)(0),{navbar:{hideOnScroll:t}}=(0,i.p)();return(0,n.useEffect)((()=>{e.current=t?0:document.querySelector(".navbar").clientHeight}),[t]),e}function d(e){const t=(0,n.useRef)(void 0),s=c();(0,n.useEffect)((()=>{if(!e)return()=>{};const{linkClassName:n,linkActiveClassName:i,minHeadingLevel:r,maxHeadingLevel:a}=e;function o(){const e=function(e){return Array.from(document.getElementsByClassName(e))}(n),o=function(e){let{minHeadingLevel:t,maxHeadingLevel:s}=e;const n=[];for(let i=t;i<=s;i+=1)n.push(`h${i}.anchor`);return Array.from(document.querySelectorAll(n.join()))}({minHeadingLevel:r,maxHeadingLevel:a}),c=l(o,{anchorTopOffset:s.current}),d=e.find((e=>c&&c.id===function(e){return decodeURIComponent(e.href.substring(e.href.indexOf("#")+1))}(e)));e.forEach((e=>{!function(e,s){s?(t.current&&t.current!==e&&t.current.classList.remove(i),e.classList.add(i),t.current=e):e.classList.remove(i)}(e,e===d)}))}return document.addEventListener("scroll",o),document.addEventListener("resize",o),o(),()=>{document.removeEventListener("scroll",o),document.removeEventListener("resize",o)}}),[e,s])}var h=s(8774),u=s(4848);function g(e){let{toc:t,className:s,linkClassName:n,isChild:i}=e;return t.length?(0,u.jsx)("ul",{className:i?void 0:s,children:t.map((e=>(0,u.jsxs)("li",{children:[(0,u.jsx)(h.A,{to:`#${e.id}`,className:n??void 0,dangerouslySetInnerHTML:{__html:e.value}}),(0,u.jsx)(g,{isChild:!0,toc:e.children,className:s,linkClassName:n})]},e.id)))}):null}const j=n.memo(g);function p(e){let{toc:t,className:s="table-of-contents table-of-contents__left-border",linkClassName:o="table-of-contents__link",linkActiveClassName:l,minHeadingLevel:c,maxHeadingLevel:h,...g}=e;const p=(0,i.p)(),x=c??p.tableOfContents.minHeadingLevel,m=h??p.tableOfContents.maxHeadingLevel,f=function(e){let{toc:t,minHeadingLevel:s,maxHeadingLevel:i}=e;return(0,n.useMemo)((()=>a({toc:r(t),minHeadingLevel:s,maxHeadingLevel:i})),[t,s,i])}({toc:t,minHeadingLevel:x,maxHeadingLevel:m});return d((0,n.useMemo)((()=>{if(o&&l)return{linkClassName:o,linkActiveClassName:l,minHeadingLevel:x,maxHeadingLevel:m}}),[o,l,x,m])),(0,u.jsx)(j,{toc:f,className:s,linkClassName:o,...g})}},8453:(e,t,s)=>{s.d(t,{R:()=>a,x:()=>o});var n=s(6540);const i={},r=n.createContext(i);function a(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);