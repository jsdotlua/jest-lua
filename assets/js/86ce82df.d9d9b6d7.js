"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[21],{4153:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>a,contentTitle:()=>c,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>d});var n=t(4848),i=t(8453),l=t(4252);const o={id:"jest-object",title:"The Jest Object"},c=void 0,r={id:"jest-object",title:"The Jest Object",description:"The methods in the jest object help create mocks and let you control Jest Lua's overall behavior.",source:"@site/docs/JestObjectAPI.md",sourceDirName:".",slug:"/jest-object",permalink:"/jest-lua/jest-object",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"jest-object",title:"The Jest Object"},sidebar:"api",previous:{title:"Mock Functions",permalink:"/jest-lua/mock-function-api"},next:{title:"Configuring Jest",permalink:"/jest-lua/configuration"}},a={},d=[{value:"Methods",id:"methods",level:2},{value:"Mock Modules",id:"mock-modules",level:2},{value:"<code>jest.mock(module, factory)</code>",id:"jestmockmodule-factory",level:3},{value:"<code>jest.unmock(module)</code>",id:"jestunmockmodule",level:3},{value:"<code>jest.requireActual(module)</code>",id:"jestrequireactualmodule",level:3},{value:"<code>jest.isolateModules(fn)</code>",id:"jestisolatemodulesfn",level:3},{value:"<code>jest.resetModules()</code>",id:"jestresetmodules",level:3},{value:"Mock Functions",id:"mock-functions",level:2},{value:"<code>jest.fn(implementation)</code>",id:"jestfnimplementation",level:3},{value:"<code>jest.clearAllMocks()</code>",id:"jestclearallmocks",level:3},{value:"<code>jest.resetAllMocks()</code>",id:"jestresetallmocks",level:3},{value:"Mock Timers",id:"mock-timers",level:2},{value:"<code>jest.useFakeTimers()</code>",id:"jestusefaketimers",level:3},{value:"<code>jest.useRealTimers()</code>",id:"jestuserealtimers",level:3},{value:"<code>jest.runAllTimers()</code>",id:"jestrunalltimers",level:3},{value:"<code>jest.advanceTimersByTime(msToRun)</code>",id:"jestadvancetimersbytimemstorun",level:3},{value:"<code>jest.runOnlyPendingTimers()</code>",id:"jestrunonlypendingtimers",level:3},{value:"<code>jest.advanceTimersToNextTimer(steps)</code>",id:"jestadvancetimerstonexttimersteps",level:3},{value:"<code>jest.clearAllTimers()</code>",id:"jestclearalltimers",level:3},{value:"<code>jest.getTimerCount()</code>",id:"jestgettimercount",level:3},{value:"<code>jest.setSystemTime(now?: number | DateTime)</code>",id:"jestsetsystemtimenow-number--datetime",level:3},{value:"<code>jest.getRealSystemTime()</code>",id:"jestgetrealsystemtime",level:3},{value:"<code>jest.setEngineFrameTime(frameTimeMs)</code>",id:"jestsetengineframetimeframetimems",level:3},{value:"<code>jest.getEngineFrameTime()</code>",id:"jestgetengineframetime",level:3}];function m(e){const s={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:(0,n.jsx)("a",{href:"https://jestjs.io/docs/27.x/jest-object",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})})}),"\n",(0,n.jsxs)(s.p,{children:["The methods in the ",(0,n.jsx)(s.code,{children:"jest"})," object help create mocks and let you control Jest Lua's overall behavior."]}),"\n",(0,n.jsx)("img",{alt:"deviation",src:"img/deviation.svg"}),"\n",(0,n.jsxs)(s.p,{children:["It must be imported explicitly from ",(0,n.jsx)(s.code,{children:"JestGlobals"}),"."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-lua",children:'local jest = require("@DevPackages/JestGlobals").jest\n'})}),"\n",(0,n.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n","\n","\n",(0,n.jsx)(l.A,{toc:d.slice(1)}),"\n",(0,n.jsx)(s.h2,{id:"mock-modules",children:"Mock Modules"}),"\n",(0,n.jsx)(s.h3,{id:"jestmockmodule-factory",children:(0,n.jsx)(s.code,{children:"jest.mock(module, factory)"})}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/jest-object#jestmockmodulename-factory-options",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"API change",src:"img/apichange.svg"}),"\n",(0,n.jsx)(s.p,{children:"Mocks a module with an mocked version when it is being required.\u3000The second argument must be used to specify the value of the mocked module."}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-lua",metastring:'title="mockedModule.lua"',children:"return {}\n"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-lua",metastring:'title="__tests__/testMockedModule.spec.lua"',children:'beforeEach(function()\n\tjest.resetModules()\n\tjest.mock(Workspace.mockedModule, function()\n\t\treturn {\n\t\t\tdefault = jest.fn(function() return 42 end),\n\t\t\tfoo = jest.fn(function() return 43 end)\n\t\t}\n\tend)\nend)\n\nlocal mockedModule\n\nit("mockedModule should be mocked", function()\n\tmockedModule = require(Workspace.mockedModule)\n\texpect(mockedModule.default()).toBe(42)\n\texpect(mockedModule.foo()).toBe(43)\nend)\n'})}),"\n",(0,n.jsxs)(s.p,{children:["Modules that are mocked with ",(0,n.jsx)(s.code,{children:"jest.mock"})," are mocked only for the file that calls ",(0,n.jsx)(s.code,{children:"jest.mock"}),". Another file that imports the module will get the original implementation even if it runs after the test file that mocks the module."]}),"\n",(0,n.jsxs)(s.p,{children:["Returns the ",(0,n.jsx)(s.code,{children:"jest"})," object for chaining."]}),"\n",(0,n.jsx)(s.h3,{id:"jestunmockmodule",children:(0,n.jsx)(s.code,{children:"jest.unmock(module)"})}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/jest-object#jestunmockmodulename",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"API change",src:"img/apichange.svg"}),"\n",(0,n.jsxs)(s.p,{children:["Indicates that the module system should never return a mocked version of the specified module from ",(0,n.jsx)(s.code,{children:"require()"})," (e.g. that it should always return the real module)."]}),"\n",(0,n.jsxs)(s.p,{children:["Returns the ",(0,n.jsx)(s.code,{children:"jest"})," object for chaining."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-lua",metastring:'title="__tests__/testMockedModule.spec.lua"',children:'it("mockedModule should not be mocked", function()\n\tjest.unmock(Workspace.mockedModule)\n\tmockedModule = require(Workspace.mockedModule)\n\texpect(mockedModule).toEqual({})\nend)\n'})}),"\n",(0,n.jsx)(s.h3,{id:"jestrequireactualmodule",children:(0,n.jsx)(s.code,{children:"jest.requireActual(module)"})}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/jest-object#jestrequireactualmodulename",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"API change",src:"img/apichange.svg"}),"\n",(0,n.jsx)(s.p,{children:"Returns the actual module instead of a mock, bypassing all checks on whether the module should receive a mock implementation or not."}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-lua",metastring:'title="__tests__/testMockedModule.spec.lua"',children:'it("mockedModule also should not be mocked", function()\n\tmockedModule = jest.requireActual(Workspace.mockedModule)\n\texpect(mockedModule).toEqual({})\nend)\n'})}),"\n",(0,n.jsx)(s.h3,{id:"jestisolatemodulesfn",children:(0,n.jsx)(s.code,{children:"jest.isolateModules(fn)"})}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/27.x/jest-object#jestisolatemodulesfn",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"Aligned",src:"img/aligned.svg"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"jest.isolateModules(fn)"})," creates a sandbox registry for the modules that are loaded inside the callback function. This is useful to isolate specific modules for every test so that local module state doesn't conflict between tests."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-lua",children:"local myModule\njest.isolateModules(function()\n\tmyModule = require(Workspace.MyModule)\nend)\n\nlocal otherCopyOfMyModule = require(Workspace.MyModule)\n"})}),"\n",(0,n.jsx)(s.h3,{id:"jestresetmodules",children:(0,n.jsx)(s.code,{children:"jest.resetModules()"})}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/27.x/jest-object#jestresetmodules",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"Aligned",src:"img/aligned.svg"}),"\n",(0,n.jsx)(s.p,{children:"Resets the module registry - the cache of all required modules. This is useful to isolate modules where local state might conflict between tests."}),"\n",(0,n.jsx)(s.p,{children:"Example:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-lua",children:'local sum1 = require(Workspace.sum)\njest.resetModules()\nlocal sum2 = require(Workspace.sum)\nexpect(sum1).never.toBe(sum2)\n-- Both sum modules are separate "instances" of the sum module.\n'})}),"\n",(0,n.jsx)(s.p,{children:"Example in a test:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-lua",children:"beforeEach(function()\n\tjest.resetModules()\nend)\n\ntest('works', function()\n\tlocal sum = require(Workspace.sum)\nend)\n\ntest('works too', function()\n\tlocal sum = require(Workspace.sum)\n\t-- sum is a different copy of the sum module from the previous test.\nend)\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Returns the ",(0,n.jsx)(s.code,{children:"jest"})," object for chaining."]}),"\n",(0,n.jsx)(s.h2,{id:"mock-functions",children:"Mock Functions"}),"\n",(0,n.jsx)(s.h3,{id:"jestfnimplementation",children:(0,n.jsx)(s.code,{children:"jest.fn(implementation)"})}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/27.x/jest-object#jestfnimplementation",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"Deviation",src:"img/deviation.svg"}),"\n",(0,n.jsxs)(s.p,{children:["Returns a new, unused ",(0,n.jsx)(s.a,{href:"mock-function-api",children:"mock function"}),". Optionally takes a mock implementation."]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"jest.fn()"})," returns a callable table as the first return value and a function as the second return value. See the ",(0,n.jsx)(s.a,{href:"deviations#jestfn",children:"deviation"})," note."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-lua",children:"local mockFn = jest.fn()\nmockFn()\nexpect(mockFn).toHaveBeenCalled()\n\n-- With a mock implementation:\nlocal returnsTrue = jest.fn(function() return true end)\nprint(returnsTrue()) -- true\n"})}),"\n",(0,n.jsx)(s.h3,{id:"jestclearallmocks",children:(0,n.jsx)(s.code,{children:"jest.clearAllMocks()"})}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/27.x/jest-object#jestclearallmocks",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"Aligned",src:"img/aligned.svg"}),"\n",(0,n.jsxs)(s.p,{children:["Clears the ",(0,n.jsx)(s.code,{children:"mock.calls"}),", ",(0,n.jsx)(s.code,{children:"mock.instances"})," and ",(0,n.jsx)(s.code,{children:"mock.results"})," properties of all mocks. Equivalent to calling ",(0,n.jsx)(s.a,{href:"mock-function-api#mockfnmockclear",children:(0,n.jsx)(s.code,{children:".mockClear()"})})," on every mocked function."]}),"\n",(0,n.jsxs)(s.p,{children:["This can be included in a ",(0,n.jsx)(s.code,{children:"beforeEach()"})," block in your text fixture to clear out the state of all mocks before each test."]}),"\n",(0,n.jsxs)(s.p,{children:["Returns the ",(0,n.jsx)(s.code,{children:"jest"})," object for chaining."]}),"\n",(0,n.jsx)(s.h3,{id:"jestresetallmocks",children:(0,n.jsx)(s.code,{children:"jest.resetAllMocks()"})}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/27.x/jest-object#jestresetallmocks",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"Aligned",src:"img/aligned.svg"}),"\n",(0,n.jsxs)(s.p,{children:["Resets the state of all mocks. Equivalent to calling ",(0,n.jsx)(s.a,{href:"mock-function-api#mockfnmockreset",children:(0,n.jsx)(s.code,{children:".mockReset()"})})," on every mocked function."]}),"\n",(0,n.jsxs)(s.p,{children:["Returns the ",(0,n.jsx)(s.code,{children:"jest"})," object for chaining."]}),"\n",(0,n.jsx)(s.h2,{id:"mock-timers",children:"Mock Timers"}),"\n",(0,n.jsx)(s.h3,{id:"jestusefaketimers",children:(0,n.jsx)(s.code,{children:"jest.useFakeTimers()"})}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/27.x/jest-object#jestusefaketimersimplementation-modern--legacy",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"Deviation",src:"img/deviation.svg"}),"\n",(0,n.jsxs)(s.p,{children:["Instructs Jest Lua to use fake versions of the standard Lua and Roblox timer functions (",(0,n.jsx)(s.code,{children:"delay"}),", ",(0,n.jsx)(s.code,{children:"tick"}),", ",(0,n.jsx)(s.code,{children:"os.time"}),", ",(0,n.jsx)(s.code,{children:"os.clock"}),", ",(0,n.jsx)(s.code,{children:"task.delay"})," as well as ",(0,n.jsx)(s.code,{children:"DateTime"}),")."]}),"\n",(0,n.jsxs)(s.p,{children:["Returns the ",(0,n.jsx)(s.code,{children:"jest"})," object for chaining."]}),"\n",(0,n.jsx)(s.h3,{id:"jestuserealtimers",children:(0,n.jsx)(s.code,{children:"jest.useRealTimers()"})}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/27.x/jest-object#jestuserealtimers",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"Aligned",src:"img/aligned.svg"}),"\n",(0,n.jsx)(s.p,{children:"Instructs Jest Lua to use the real versions of the standard timer functions."}),"\n",(0,n.jsxs)(s.p,{children:["Returns the ",(0,n.jsx)(s.code,{children:"jest"})," object for chaining."]}),"\n",(0,n.jsx)(s.h3,{id:"jestrunalltimers",children:(0,n.jsx)(s.code,{children:"jest.runAllTimers()"})}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/27.x/jest-object#jestrunalltimers",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"Deviation",src:"img/deviation.svg"}),"\n",(0,n.jsxs)(s.p,{children:["Exhausts the ",(0,n.jsx)(s.strong,{children:"macro"}),"-task queue (i.e., all tasks queued by ",(0,n.jsx)(s.code,{children:"delay"}),")."]}),"\n",(0,n.jsx)(s.p,{children:"When this API is called, all pending macro-tasks will be executed. If those tasks themselves schedule new tasks, those will be continually exhausted until there are no more tasks remaining in the queue."}),"\n",(0,n.jsxs)(s.p,{children:["This is often useful for synchronously executing ",(0,n.jsx)(s.code,{children:"delay"}),"s during a test in order to synchronously assert about some behavior that would only happen after the ",(0,n.jsx)(s.code,{children:"delay"})," callbacks executed. See the ",(0,n.jsx)(s.a,{href:"timer-mocks",children:"Timer mocks"})," doc for more information."]}),"\n",(0,n.jsx)(s.h3,{id:"jestadvancetimersbytimemstorun",children:(0,n.jsx)(s.code,{children:"jest.advanceTimersByTime(msToRun)"})}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/27.x/jest-object#jestadvancetimersbytimemstorun",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"Aligned",src:"img/aligned.svg"}),"\n",(0,n.jsxs)(s.p,{children:["Executes only the macro task queue (i.e., all tasks queued by ",(0,n.jsx)(s.code,{children:"delay"}),")."]}),"\n",(0,n.jsxs)(s.p,{children:["When this API is called, all timers are advanced by ",(0,n.jsx)(s.code,{children:"msToRun"}),' milliseconds. All pending "macro-tasks" that have been queued, and would be executed within this time frame will be executed. Additionally, if those macro-tasks schedule new macro-tasks that would be executed within the same time frame, those will be executed until there are no more macro-tasks remaining in the queue, that should be run within ',(0,n.jsx)(s.code,{children:"msToRun"})," milliseconds."]}),"\n",(0,n.jsx)(s.h3,{id:"jestrunonlypendingtimers",children:(0,n.jsx)(s.code,{children:"jest.runOnlyPendingTimers()"})}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/27.x/jest-object#jestrunonlypendingtimers",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"Aligned",src:"img/aligned.svg"}),"\n",(0,n.jsxs)(s.p,{children:["Executes only the macro-tasks that are currently pending (i.e., all tasks queued by ",(0,n.jsx)(s.code,{children:"delay"}),"). If any of the currently pending macro-tasks schedule new macro-tasks, those new tasks will not be executed by this call."]}),"\n",(0,n.jsxs)(s.p,{children:["This is useful for scenarios such as one where the module being tested schedules a ",(0,n.jsx)(s.code,{children:"delay()"})," whose callback schedules another ",(0,n.jsx)(s.code,{children:"delay()"})," recursively (meaning the scheduling never stops). In these scenarios, it's useful to be able to run forward in time by a single step at a time."]}),"\n",(0,n.jsx)(s.h3,{id:"jestadvancetimerstonexttimersteps",children:(0,n.jsx)(s.code,{children:"jest.advanceTimersToNextTimer(steps)"})}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/27.x/jest-object#jestadvancetimerstonexttimersteps",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"Aligned",src:"img/aligned.svg"}),"\n",(0,n.jsx)(s.p,{children:"Advances all timers by the needed seconds so that only the next timeouts/intervals will run."}),"\n",(0,n.jsxs)(s.p,{children:["Optionally, you can provide ",(0,n.jsx)(s.code,{children:"steps"}),", so it will run ",(0,n.jsx)(s.code,{children:"steps"})," amount of next timeouts/intervals."]}),"\n",(0,n.jsx)(s.h3,{id:"jestclearalltimers",children:(0,n.jsx)(s.code,{children:"jest.clearAllTimers()"})}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/27.x/jest-object#jestclearalltimers",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"Aligned",src:"img/aligned.svg"}),"\n",(0,n.jsx)(s.p,{children:"Removes any pending timers from the timer system."}),"\n",(0,n.jsx)(s.p,{children:"This means, if any timers have been scheduled (but have not yet executed), they will be cleared and will never have the opportunity to execute in the future."}),"\n",(0,n.jsx)(s.h3,{id:"jestgettimercount",children:(0,n.jsx)(s.code,{children:"jest.getTimerCount()"})}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/27.x/jest-object#jestgettimercount",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"Aligned",src:"img/aligned.svg"}),"\n",(0,n.jsx)(s.p,{children:"Returns the number of fake timers still left to run."}),"\n",(0,n.jsx)(s.h3,{id:"jestsetsystemtimenow-number--datetime",children:(0,n.jsx)(s.code,{children:"jest.setSystemTime(now?: number | DateTime)"})}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/27.x/jest-object#jestsetsystemtimenow-number--date",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"Aligned",src:"img/aligned.svg"}),"\n",(0,n.jsxs)(s.p,{children:["Set the current system time used by fake timers. Simulates a user changing the system clock while your program is running. It affects the current time but it does not in itself cause e.g. timers to fire; they will fire exactly as they would have done without the call to ",(0,n.jsx)(s.code,{children:"jest.setSystemTime()"}),"."]}),"\n",(0,n.jsx)(s.h3,{id:"jestgetrealsystemtime",children:(0,n.jsx)(s.code,{children:"jest.getRealSystemTime()"})}),"\n",(0,n.jsx)("a",{href:"https://jestjs.io/docs/27.x/jest-object#jestgetrealsystemtime",target:"_blank",children:(0,n.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,n.jsx)("img",{alt:"Aligned",src:"img/aligned.svg"}),"\n",(0,n.jsxs)(s.p,{children:["When mocking time, ",(0,n.jsx)(s.code,{children:"DateTime.now()"})," will also be mocked. If you for some reason need access to the real current time, you can invoke this function."]}),"\n",(0,n.jsx)(s.h3,{id:"jestsetengineframetimeframetimems",children:(0,n.jsx)(s.code,{children:"jest.setEngineFrameTime(frameTimeMs)"})}),"\n",(0,n.jsx)("img",{alt:"Roblox only",src:"img/roblox-only.svg"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"jest.setEngineFrameTime"})," sets the frame time, in milliseconds, by which all advance timer methods process timers. ",(0,n.jsx)(s.code,{children:"frameTimeMs"})," must be a value greater than or equal to 0; by default, ",(0,n.jsx)(s.code,{children:"frameTimeMs"})," is set to ",(0,n.jsx)(s.code,{children:"0"})," (i.e. continuous time)."]}),"\n",(0,n.jsx)(s.h3,{id:"jestgetengineframetime",children:(0,n.jsx)(s.code,{children:"jest.getEngineFrameTime()"})}),"\n",(0,n.jsx)("img",{alt:"Roblox only",src:"img/roblox-only.svg"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"jest.getEngineFrameTime"})," gets the frame time by which timers are processed."]})]})}function u(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(m,{...e})}):m(e)}},4252:(e,s,t)=>{t.d(s,{A:()=>o});t(6540);var n=t(5195);const i={tableOfContentsInline:"tableOfContentsInline_prmo"};var l=t(4848);function o(e){let{toc:s,minHeadingLevel:t,maxHeadingLevel:o}=e;return(0,l.jsx)("div",{className:i.tableOfContentsInline,children:(0,l.jsx)(n.A,{toc:s,minHeadingLevel:t,maxHeadingLevel:o,className:"table-of-contents",linkClassName:null})})}},5195:(e,s,t)=>{t.d(s,{A:()=>g});var n=t(6540),i=t(6342);function l(e){const s=e.map((e=>({...e,parentIndex:-1,children:[]}))),t=Array(7).fill(-1);s.forEach(((e,s)=>{const n=t.slice(2,e.level);e.parentIndex=Math.max(...n),t[e.level]=s}));const n=[];return s.forEach((e=>{const{parentIndex:t,...i}=e;t>=0?s[t].children.push(i):n.push(i)})),n}function o(e){let{toc:s,minHeadingLevel:t,maxHeadingLevel:n}=e;return s.flatMap((e=>{const s=o({toc:e.children,minHeadingLevel:t,maxHeadingLevel:n});return function(e){return e.level>=t&&e.level<=n}(e)?[{...e,children:s}]:s}))}function c(e){const s=e.getBoundingClientRect();return s.top===s.bottom?c(e.parentNode):s}function r(e,s){let{anchorTopOffset:t}=s;const n=e.find((e=>c(e).top>=t));if(n){return function(e){return e.top>0&&e.bottom<window.innerHeight/2}(c(n))?n:e[e.indexOf(n)-1]??null}return e[e.length-1]??null}function a(){const e=(0,n.useRef)(0),{navbar:{hideOnScroll:s}}=(0,i.p)();return(0,n.useEffect)((()=>{e.current=s?0:document.querySelector(".navbar").clientHeight}),[s]),e}function d(e){const s=(0,n.useRef)(void 0),t=a();(0,n.useEffect)((()=>{if(!e)return()=>{};const{linkClassName:n,linkActiveClassName:i,minHeadingLevel:l,maxHeadingLevel:o}=e;function c(){const e=function(e){return Array.from(document.getElementsByClassName(e))}(n),c=function(e){let{minHeadingLevel:s,maxHeadingLevel:t}=e;const n=[];for(let i=s;i<=t;i+=1)n.push(`h${i}.anchor`);return Array.from(document.querySelectorAll(n.join()))}({minHeadingLevel:l,maxHeadingLevel:o}),a=r(c,{anchorTopOffset:t.current}),d=e.find((e=>a&&a.id===function(e){return decodeURIComponent(e.href.substring(e.href.indexOf("#")+1))}(e)));e.forEach((e=>{!function(e,t){t?(s.current&&s.current!==e&&s.current.classList.remove(i),e.classList.add(i),s.current=e):e.classList.remove(i)}(e,e===d)}))}return document.addEventListener("scroll",c),document.addEventListener("resize",c),c(),()=>{document.removeEventListener("scroll",c),document.removeEventListener("resize",c)}}),[e,t])}var m=t(8774),u=t(4848);function j(e){let{toc:s,className:t,linkClassName:n,isChild:i}=e;return s.length?(0,u.jsx)("ul",{className:i?void 0:t,children:s.map((e=>(0,u.jsxs)("li",{children:[(0,u.jsx)(m.A,{to:`#${e.id}`,className:n??void 0,dangerouslySetInnerHTML:{__html:e.value}}),(0,u.jsx)(j,{isChild:!0,toc:e.children,className:t,linkClassName:n})]},e.id)))}):null}const h=n.memo(j);function g(e){let{toc:s,className:t="table-of-contents table-of-contents__left-border",linkClassName:c="table-of-contents__link",linkActiveClassName:r,minHeadingLevel:a,maxHeadingLevel:m,...j}=e;const g=(0,i.p)(),x=a??g.tableOfContents.minHeadingLevel,f=m??g.tableOfContents.maxHeadingLevel,v=function(e){let{toc:s,minHeadingLevel:t,maxHeadingLevel:i}=e;return(0,n.useMemo)((()=>o({toc:l(s),minHeadingLevel:t,maxHeadingLevel:i})),[s,t,i])}({toc:s,minHeadingLevel:x,maxHeadingLevel:f});return d((0,n.useMemo)((()=>{if(c&&r)return{linkClassName:c,linkActiveClassName:r,minHeadingLevel:x,maxHeadingLevel:f}}),[c,r,x,f])),(0,u.jsx)(h,{toc:v,className:t,linkClassName:c,...j})}},8453:(e,s,t)=>{t.d(s,{R:()=>o,x:()=>c});var n=t(6540);const i={},l=n.createContext(i);function o(e){const s=n.useContext(l);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),n.createElement(l.Provider,{value:s},e.children)}}}]);