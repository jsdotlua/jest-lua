"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[633],{7691:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>l,default:()=>u,frontMatter:()=>c,metadata:()=>o,toc:()=>d});var s=t(4848),i=t(8453),a=t(4252);const c={id:"api",title:"Globals"},l=void 0,o={id:"api",title:"Globals",description:"At the top of your test files, require JestGlobals from the Packages directory created by rotriever.",source:"@site/docs/GlobalAPI.md",sourceDirName:".",slug:"/api",permalink:"/jest-lua/api",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"api",title:"Globals"},sidebar:"api",next:{title:"Expect",permalink:"/jest-lua/expect"}},r={},d=[{value:"Methods",id:"methods",level:2},{value:"Reference",id:"reference",level:2},{value:"<code>afterAll(fn, timeout)</code>",id:"afterallfn-timeout",level:3},{value:"<code>afterEach(fn, timeout)</code>",id:"aftereachfn-timeout",level:3},{value:"<code>beforeAll(fn, timeout)</code>",id:"beforeallfn-timeout",level:3},{value:"<code>beforeEach(fn, timeout)</code>",id:"beforeeachfn-timeout",level:3},{value:"<code>describe(name, fn)</code>",id:"describename-fn",level:3},{value:"<code>describe.each(table)(name, fn, timeout)</code>",id:"describeeachtablename-fn-timeout",level:3},{value:"1. <code>describe.each(table)(name, fn, timeout)</code>",id:"1-describeeachtablename-fn-timeout",level:4},{value:"2. <code>describe.each(...args)(name, fn, timeout)</code>",id:"2-describeeachargsname-fn-timeout",level:4},{value:"<code>describe.only(name, fn)</code>",id:"describeonlyname-fn",level:3},{value:"<code>describe.only.each(table)(name, fn)</code>",id:"describeonlyeachtablename-fn",level:3},{value:"<code>describe.only.each(table)(name, fn)</code>",id:"describeonlyeachtablename-fn-1",level:4},{value:"<code>describe.only.each(...args)(name, fn)</code>",id:"describeonlyeachargsname-fn",level:4},{value:"<code>describe.skip(name, fn)</code>",id:"describeskipname-fn",level:3},{value:"<code>describe.skip.each(table)(name, fn)</code>",id:"describeskipeachtablename-fn",level:3},{value:"<code>describe.skip.each(table)(name, fn)</code>",id:"describeskipeachtablename-fn-1",level:4},{value:"<code>describe.skip.each(...args)(name, fn)</code>",id:"describeskipeachargsname-fn",level:4},{value:"<code>test(name, fn, timeout)</code>",id:"testname-fn-timeout",level:3},{value:"<code>test.each(table)(name, fn, timeout)</code>",id:"testeachtablename-fn-timeout",level:3},{value:"1. <code>test.each(table)(name, fn, timeout)</code>",id:"1-testeachtablename-fn-timeout",level:4},{value:"2. <code>test.each(...args)(name, fn, timeout)</code>",id:"2-testeachargsname-fn-timeout",level:4},{value:"<code>test.failing(name, fn, timeout)</code>",id:"testfailingname-fn-timeout",level:3},{value:"<code>test.only.failing(name, fn, timeout)</code>",id:"testonlyfailingname-fn-timeout",level:3},{value:"<code>test.skip.failing(name, fn, timeout)</code>",id:"testskipfailingname-fn-timeout",level:3},{value:"<code>test.only(name, fn, timeout)</code>",id:"testonlyname-fn-timeout",level:3},{value:"<code>test.only.each(table)(name, fn)</code>",id:"testonlyeachtablename-fn",level:3},{value:"<code>test.only.each(table)(name, fn)</code>",id:"testonlyeachtablename-fn-1",level:4},{value:"<code>test.only.each(...args)(name, fn)</code>",id:"testonlyeachargsname-fn",level:4},{value:"<code>test.skip(name, fn)</code>",id:"testskipname-fn",level:3},{value:"<code>test.skip.each(table)(name, fn)</code>",id:"testskipeachtablename-fn",level:3},{value:"<code>test.skip.each(table)(name, fn)</code>",id:"testskipeachtablename-fn-1",level:4},{value:"<code>test.skip.each(...args)(name, fn)</code>",id:"testskipeachargsname-fn",level:4},{value:"<code>test.todo(name)</code>",id:"testtodoname",level:3},{value:"API",id:"api",level:4}];function h(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{children:(0,s.jsx)("a",{href:"https://jestjs.io/docs/27.x/api",target:"_blank",children:(0,s.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})})}),"\n",(0,s.jsx)("img",{alt:"deviation",src:"img/deviation.svg"}),"\n",(0,s.jsxs)(n.p,{children:["At the top of your test files, require ",(0,s.jsx)(n.code,{children:"JestGlobals"})," from the ",(0,s.jsx)(n.code,{children:"Packages"})," directory created by ",(0,s.jsx)(n.code,{children:"rotriever"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"Then, explicitly import any of the following members:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'local JestGlobals = require("@DevPackages/JestGlobals")\nlocal describe = JestGlobals.describe\nlocal expect = JestGlobals.expect\nlocal test = JestGlobals.test\n'})}),"\n",(0,s.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n","\n","\n",(0,s.jsx)(a.A,{toc:d.filter((e=>3===e.level))}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"reference",children:"Reference"}),"\n",(0,s.jsx)(n.h3,{id:"afterallfn-timeout",children:(0,s.jsx)(n.code,{children:"afterAll(fn, timeout)"})}),"\n",(0,s.jsx)("a",{href:"https://jestjs.io/docs/27.x/api#afterallfn-timeout",target:"_blank",children:(0,s.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,s.jsx)("img",{alt:"Aligned",src:"img/aligned.svg"}),"\n",(0,s.jsx)(n.p,{children:"Runs a function after all the tests in this file have completed. If the function returns a promise or is a generator, Jest Lua waits for that promise to resolve before continuing."}),"\n",(0,s.jsxs)(n.p,{children:["Optionally, you can provide a ",(0,s.jsx)(n.code,{children:"timeout"})," (in milliseconds) for specifying how long to wait before aborting. ",(0,s.jsx)(n.em,{children:"Note: The default timeout is 5 seconds."})]}),"\n",(0,s.jsx)(n.p,{children:"This is often useful if you want to clean up some global setup state that is shared across tests."}),"\n",(0,s.jsx)(n.p,{children:"For example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"local globalDatabase = makeGlobalDatabase()\n\nlocal function cleanUpDatabase(db)\n\tdb:cleanUp()\nend\n\nafterAll(function()\n\tcleanUpDatabase(globalDatabase)\nend)\n\ntest('can find things', function()\n\treturn globalDatabase:find('thing', {}, function(results)\n\t\texpect(#results).toBeGreaterThan(0)\n\tend)\nend)\n\ntest('can insert a thing', function()\n\treturn globalDatabase:insert('thing', makeThing(), function(response)\n\t\texpect(response.success).toBeTruthy()\n\tend)\nend)\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Here the ",(0,s.jsx)(n.code,{children:"afterAll"})," ensures that ",(0,s.jsx)(n.code,{children:"cleanUpDatabase"})," is called after all tests run."]}),"\n",(0,s.jsxs)(n.p,{children:["If ",(0,s.jsx)(n.code,{children:"afterAll"})," is inside a ",(0,s.jsx)(n.code,{children:"describe"})," block, it runs at the end of the describe block."]}),"\n",(0,s.jsxs)(n.p,{children:["If you want to run some cleanup after every test instead of after all tests, use ",(0,s.jsx)(n.code,{children:"afterEach"})," instead."]}),"\n",(0,s.jsx)(n.h3,{id:"aftereachfn-timeout",children:(0,s.jsx)(n.code,{children:"afterEach(fn, timeout)"})}),"\n",(0,s.jsx)("a",{href:"https://jestjs.io/docs/27.x/api#aftereachfn-timeout",target:"_blank",children:(0,s.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,s.jsx)("img",{alt:"Aligned",src:"img/aligned.svg"}),"\n",(0,s.jsx)(n.p,{children:"Runs a function after each one of the tests in this file completes. If the function returns a promise or is a generator, Jest Lua waits for that promise to resolve before continuing."}),"\n",(0,s.jsxs)(n.p,{children:["Optionally, you can provide a ",(0,s.jsx)(n.code,{children:"timeout"})," (in milliseconds) for specifying how long to wait before aborting. ",(0,s.jsx)(n.em,{children:"Note: The default timeout is 5 seconds."})]}),"\n",(0,s.jsx)(n.p,{children:"This is often useful if you want to clean up some temporary state that is created by each test."}),"\n",(0,s.jsx)(n.p,{children:"For example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"local globalDatabase = makeGlobalDatabase()\n\nlocal function cleanUpDatabase(db)\n\tdb:cleanUp()\nend\n\nafterEach(function()\n\tcleanUpDatabase(globalDatabase)\nend)\n\ntest('can find things', function()\n\treturn globalDatabase:find('thing', {}, function(results)\n\t\texpect(#results).toBeGreaterThan(0)\n\tend)\nend)\n\ntest('can insert a thing', function()\n\treturn globalDatabase:insert('thing', makeThing(), function(response)\n\t\texpect(response.success).toBeTruthy()\n\tend)\nend)\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Here the ",(0,s.jsx)(n.code,{children:"afterEach"})," ensures that ",(0,s.jsx)(n.code,{children:"cleanUpDatabase"})," is called after each test runs."]}),"\n",(0,s.jsxs)(n.p,{children:["If ",(0,s.jsx)(n.code,{children:"afterEach"})," is inside a ",(0,s.jsx)(n.code,{children:"describe"})," block, it only runs after the tests that are inside this describe block."]}),"\n",(0,s.jsxs)(n.p,{children:["If you want to run some cleanup just once, after all of the tests run, use ",(0,s.jsx)(n.code,{children:"afterAll"})," instead."]}),"\n",(0,s.jsx)(n.h3,{id:"beforeallfn-timeout",children:(0,s.jsx)(n.code,{children:"beforeAll(fn, timeout)"})}),"\n",(0,s.jsx)("a",{href:"https://jestjs.io/docs/27.x/api#beforeallfn-timeout",target:"_blank",children:(0,s.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,s.jsx)("img",{alt:"Aligned",src:"img/aligned.svg"}),"\n",(0,s.jsx)(n.p,{children:"Runs a function before any of the tests in this file run. If the function returns a promise or is a generator, Jest Lua waits for that promise to resolve before running tests."}),"\n",(0,s.jsxs)(n.p,{children:["Optionally, you can provide a ",(0,s.jsx)(n.code,{children:"timeout"})," (in milliseconds) for specifying how long to wait before aborting. ",(0,s.jsx)(n.em,{children:"Note: The default timeout is 5 seconds."})]}),"\n",(0,s.jsx)(n.p,{children:"This is often useful if you want to set up some global state that will be used by many tests."}),"\n",(0,s.jsx)(n.p,{children:"For example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"local globalDatabase = makeGlobalDatabase()\n\nbeforeAll(function()\n\t-- Clears the database and adds some testing data.\n\t-- Jest Lua will wait for this promise to resolve before running tests.\n\treturn globalDatabase:clear()\n\t\t:then(function()\n\t\t\treturn globalDatabase:insert({testData = 'foo'})\n\t\tend)\nend)\n\n-- Since we only set up the database once in this example, it's important\n-- that our tests don't modify it.\ntest('can find things', function()\n\treturn globalDatabase:find('thing', {}, function(results)\n\t\texpect(#results).toBeGreaterThan(0)\n\tend)\nend)\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Here the ",(0,s.jsx)(n.code,{children:"beforeAll"})," ensures that the database is set up before tests run. If setup was synchronous, you could do this without ",(0,s.jsx)(n.code,{children:"beforeAll"}),". The key is that Jest will wait for a promise to resolve, so you can have asynchronous setup as well."]}),"\n",(0,s.jsxs)(n.p,{children:["If ",(0,s.jsx)(n.code,{children:"beforeAll"})," is inside a ",(0,s.jsx)(n.code,{children:"describe"})," block, it runs at the beginning of the describe block."]}),"\n",(0,s.jsxs)(n.p,{children:["If you want to run something before every test instead of before any test runs, use ",(0,s.jsx)(n.code,{children:"beforeEach"})," instead."]}),"\n",(0,s.jsx)(n.h3,{id:"beforeeachfn-timeout",children:(0,s.jsx)(n.code,{children:"beforeEach(fn, timeout)"})}),"\n",(0,s.jsx)("a",{href:"https://jestjs.io/docs/27.x/api#beforeeachfn-timeout",target:"_blank",children:(0,s.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,s.jsx)("img",{alt:"Aligned",src:"img/aligned.svg"}),"\n",(0,s.jsx)(n.p,{children:"Runs a function before each of the tests in this file runs. If the function returns a promise or is a generator, Jest Lua waits for that promise to resolve before running the test."}),"\n",(0,s.jsxs)(n.p,{children:["Optionally, you can provide a ",(0,s.jsx)(n.code,{children:"timeout"})," (in milliseconds) for specifying how long to wait before aborting. ",(0,s.jsx)(n.em,{children:"Note: The default timeout is 5 seconds."})]}),"\n",(0,s.jsx)(n.p,{children:"This is often useful if you want to reset some global state that will be used by many tests."}),"\n",(0,s.jsx)(n.p,{children:"For example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"local globalDatabase = makeGlobalDatabase()\n\nbeforeEach(function()\n\t-- Clears the database and adds some testing data.\n\t-- Jest Lua will wait for this promise to resolve before running tests.\n\treturn globalDatabase:clear()\n\t\t:then(function()\n\t\t\treturn globalDatabase:insert({testData = 'foo'})\n\t\tend)\nend)\n\ntest('can find things', function()\n\treturn globalDatabase:find('thing', {}, function(results)\n\t\texpect(#results).toBeGreaterThan(0)\n\tend)\nend)\n\ntest('can insert a thing', function()\n\treturn globalDatabase:insert('thing', makeThing(), function(response)\n\t\texpect(response.success).toBeTruthy()\n\tend)\nend)\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Here the ",(0,s.jsx)(n.code,{children:"beforeEach"})," ensures that the database is reset for each test."]}),"\n",(0,s.jsxs)(n.p,{children:["If ",(0,s.jsx)(n.code,{children:"beforeEach"})," is inside a ",(0,s.jsx)(n.code,{children:"describe"})," block, it runs for each test in the describe block."]}),"\n",(0,s.jsxs)(n.p,{children:["If you only need to run some setup code once, before any tests run, use ",(0,s.jsx)(n.code,{children:"beforeAll"})," instead."]}),"\n",(0,s.jsx)(n.h3,{id:"describename-fn",children:(0,s.jsx)(n.code,{children:"describe(name, fn)"})}),"\n",(0,s.jsx)("a",{href:"https://jestjs.io/docs/27.x/api#describename-fn",target:"_blank",children:(0,s.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,s.jsx)("img",{alt:"Aligned",src:"img/aligned.svg"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"describe(name, fn)"})," creates a block that groups together several related tests. For example, if you have a ",(0,s.jsx)(n.code,{children:"myBeverage"})," object that is supposed to be delicious but not sour, you could test it with:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"local myBeverage = {\n\tdelicious = true,\n\tsour = false\n}\n\ndescribe('my beverage', function()\n\ttest('is delicious', function()\n\t\texpect(myBeverage.delicious).toBeTruthy()\n\tend)\n\n\ttest('is not sour', function()\n\t\texpect(myBeverage.sour).toBeFalsy()\n\tend)\nend)\n"})}),"\n",(0,s.jsxs)(n.p,{children:["This isn't required - you can write the ",(0,s.jsx)(n.code,{children:"test"})," blocks directly at the top level. But this can be handy if you prefer your tests to be organized into groups."]}),"\n",(0,s.jsxs)(n.p,{children:["You can also nest ",(0,s.jsx)(n.code,{children:"describe"})," blocks if you have a hierarchy of tests:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"describe('binaryStringToNumber', function()\n\tdescribe('given an invalid binary string', function()\n\t\ttest('composed of non-numbers throws', function()\n\t\t\texpect(function()\n\t\t\t\tbinaryStringToNumber('abc')\n\t\t\tend).toThrow()\n\t\tend)\n\n\t\ttest('with extra whitespace throws', function()\n\t\t\texpect(function()\n\t\t\t\tbinaryStringToNumber('  100')\n\t\t\tend).toThrow()\n\t\tend)\n\tend)\n\n\tdescribe('given a valid binary string', function()\n\t\ttest('returns the correct number', function()\n\t\t\texpect(binaryStringToNumber('100')).toBe(4)\n\t\tend\n\tend)\nend)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"describeeachtablename-fn-timeout",children:(0,s.jsx)(n.code,{children:"describe.each(table)(name, fn, timeout)"})}),"\n",(0,s.jsx)("a",{href:"https://jestjs.io/docs/27.x/api#describeeachtablename-fn-timeout",target:"_blank",children:(0,s.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,s.jsx)("img",{alt:"API change",src:"img/apichange.svg"}),"\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.code,{children:"describe.each"})," if you keep duplicating the same test suites with different data. ",(0,s.jsx)(n.code,{children:"describe.each"})," allows you to write the test suite once and pass data in."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"describe.each"})," is available with two APIs:"]}),"\n",(0,s.jsxs)(n.h4,{id:"1-describeeachtablename-fn-timeout",children:["1. ",(0,s.jsx)(n.code,{children:"describe.each(table)(name, fn, timeout)"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"table"}),": ",(0,s.jsx)(n.code,{children:"array"})," of arrays with the arguments that are passed into the ",(0,s.jsx)(n.code,{children:"fn"})," for each row.","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:"Note"})," If you pass in a 1D array of primitives, internally it will be mapped to a table i.e. ",(0,s.jsx)(n.code,{children:"{1, 2, 3} -> {{1}, {2}, {3}}"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"name"}),": ",(0,s.jsx)(n.code,{children:"string"})," the title of the test suite."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"fn"}),": ",(0,s.jsx)(n.code,{children:"function"})," the suite of tests to be ran, this is the function that will receive the parameters in each row as function arguments."]}),"\n",(0,s.jsxs)(n.li,{children:["Optionally, you can provide a ",(0,s.jsx)(n.code,{children:"timeout"})," (in milliseconds) for specifying how long to wait for each row before aborting. ",(0,s.jsx)(n.em,{children:"Note: The default timeout is 5 seconds."})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"describe.each({\n\t{1, 1, 2},\n\t{1, 2, 3},\n\t{2, 1, 3},\n})('.add($a, $b)', function(a, b, expected)\n\ttest('returns $expected', function()\n\t\texpect(a + b).toBe(expected)\n\tend)\n\n\ttest('returned value not be greater than $expected', function()\n\t\texpect(a + b).never.toBeGreaterThan(expected)\n\tend)\n\n\ttest('returned value not be less than $expected', function()\n\t\texpect(a + b).never.toBeLessThan(expected)\n\tend)\nend)\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"describe.each({\n\t{a = 1, b = 1, expected = 2},\n\t{a = 1, b = 2, expected = 3},\n\t{a = 2, b = 1, expected = 3},\n})('.add($a, $b)', function(ref)\n\tlocal a, b, expected = ref.a, ref.b, ref.expected\n\n\ttest('returns $expected', function()\n\t\texpect(a + b).toBe(expected)\n\tend)\n\n\ttest('returned value not be greater than $expected', function()\n\t\texpect(a + b).never.toBeGreaterThan(expected)\n\tend)\n\n\ttest('returned value not be less than $expected', function()\n\t\texpect(a + b).never.toBeLessThan(expected)\n\tend)\nend)\n"})}),"\n",(0,s.jsxs)(n.h4,{id:"2-describeeachargsname-fn-timeout",children:["2. ",(0,s.jsx)(n.code,{children:"describe.each(...args)(name, fn, timeout)"})]}),"\n",(0,s.jsx)("img",{alt:"API change",src:"img/apichange.svg"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"...args"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["First argument is a string with headings separated by ",(0,s.jsx)(n.code,{children:"|"}),", or a table with a single element containing that."]}),"\n",(0,s.jsxs)(n.li,{children:["One or more arguments of arrays with the arguments that are passed into the ",(0,s.jsx)(n.code,{children:"fn"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"name"}),": ",(0,s.jsx)(n.code,{children:"String"})," the title of the test suite"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"fn"}),": ",(0,s.jsx)(n.code,{children:"Function"})," the suite of tests to be ran, this is the function that will receive the test data object."]}),"\n",(0,s.jsxs)(n.li,{children:["Optionally, you can provide a ",(0,s.jsx)(n.code,{children:"timeout"})," (in milliseconds) for specifying how long to wait for each row before aborting. ",(0,s.jsx)(n.em,{children:"Note: The default timeout is 5 seconds."})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"describe.each('a | b | expected',\n\t{1, 1, 2},\n\t{1, 2, 3},\n\t{2, 1, 3}\n)('.add($a, $b)', function(ref)\n\tlocal a, b, expected = ref.a, ref.b, ref.expected\n\n\ttest('returns $expected', function()\n\t\texpect(a + b).toBe(expected)\n\tend)\n\n\ttest('returned value not be greater than $expected', function()\n\t\texpect(a + b).never.toBeGreaterThan(expected)\n\tend)\n\n\ttest('returned value not be less than $expected', function()\n\t\texpect(a + b).never.toBeLessThan(expected)\n\tend)\nend)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"describeonlyname-fn",children:(0,s.jsx)(n.code,{children:"describe.only(name, fn)"})}),"\n",(0,s.jsx)("a",{href:"https://jestjs.io/docs/27.x/api#describeonlyname-fn",target:"_blank",children:(0,s.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,s.jsx)("img",{alt:"Aligned",src:"img/aligned.svg"}),"\n",(0,s.jsxs)(n.p,{children:["Also under the alias: ",(0,s.jsx)(n.code,{children:"fdescribe(name, fn)"})]}),"\n",(0,s.jsxs)(n.p,{children:["You can use ",(0,s.jsx)(n.code,{children:"describe.only"})," if you want to run only one describe block:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"describe.only('my beverage', function()\n\ttest('is delicious', function()\n\t\texpect(myBeverage.delicious).toBeTruthy()\n\tend)\n\n\ttest('is not sour', function()\n\t\texpect(myBeverage.sour).toBeFalsy()\n\tend)\nend)\n\ndescribe('my other beverage', function()\n\t-- ... will be skipped\nend)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"describeonlyeachtablename-fn",children:(0,s.jsx)(n.code,{children:"describe.only.each(table)(name, fn)"})}),"\n",(0,s.jsx)("a",{href:"https://jestjs.io/docs/27.x/api#describeonlyeachtablename-fn",target:"_blank",children:(0,s.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,s.jsx)("img",{alt:"API change",src:"img/apichange.svg"}),"\n",(0,s.jsxs)(n.p,{children:["Also under the aliases: ",(0,s.jsx)(n.code,{children:"fdescribe.each(table)(name, fn)"})," and ",(0,s.jsx)(n.code,{children:"fdescribe.each`table`(name, fn)"})]}),"\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.code,{children:"describe.only.each"})," if you want to only run specific tests suites of data driven tests."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"describe.only.each"})," is available with two APIs:"]}),"\n",(0,s.jsx)(n.h4,{id:"describeonlyeachtablename-fn-1",children:(0,s.jsx)(n.code,{children:"describe.only.each(table)(name, fn)"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"describe.only.each({\n\t{1, 1, 2},\n\t{1, 2, 3},\n\t{2, 1, 3},\n})('.add($a, $b)', function(a, b, expected)\n\ttest('will be ran', function()\n\t\texpect(a + b).toBe(expected)\n\tend)\nend)\n\ntest('will not be ran', function()\n\texpect(1 / 0).toBe(math.huge)\nend)\n"})}),"\n",(0,s.jsx)(n.h4,{id:"describeonlyeachargsname-fn",children:(0,s.jsx)(n.code,{children:"describe.only.each(...args)(name, fn)"})}),"\n",(0,s.jsx)("img",{alt:"API change",src:"img/apichange.svg"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"describe.only.each({'a | b | expected'},\n\t{1, 1, 2},\n\t{1, 2, 3},\n\t{2, 1, 3}\n)('returns $expected when $a is added $b', function(ref)\n\tlocal a, b, expected = ref.a, ref.b, ref.expected\n\n\ttest('will be ran', function()\n\t\texpect(a + b).toBe(expected)\n\tend)\nend)\n\ntest('will not be ran', function()\n\texpect(1 / 0).toBe(math.huge)\nend)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"describeskipname-fn",children:(0,s.jsx)(n.code,{children:"describe.skip(name, fn)"})}),"\n",(0,s.jsx)("a",{href:"https://jestjs.io/docs/27.x/api#describeskipname-fn",target:"_blank",children:(0,s.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,s.jsx)("img",{alt:"Aligned",src:"img/aligned.svg"}),"\n",(0,s.jsxs)(n.p,{children:["Also under the alias: ",(0,s.jsx)(n.code,{children:"xdescribe(name, fn)"})]}),"\n",(0,s.jsxs)(n.p,{children:["You can use ",(0,s.jsx)(n.code,{children:"describe.skip"})," if you do not want to run the tests of a particular ",(0,s.jsx)(n.code,{children:"describe"})," block:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"describe('my beverage', function()\n\ttest('is delicious', function()\n\t\texpect(myBeverage.delicious).toBeTruthy()\n\tend)\n\n\ttest('is not sour', function()\n\t\texpect(myBeverage.sour).toBeFalsy()\n\tend)\nend)\n\ndescribe.skip('my other beverage', function()\n\t-- ... will be skipped\nend)\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Using ",(0,s.jsx)(n.code,{children:"describe.skip"})," is often a cleaner alternative to temporarily commenting out a chunk of tests. Beware that the ",(0,s.jsx)(n.code,{children:"describe"})," block will still run. If you have some setup that also should be skipped, do it in a ",(0,s.jsx)(n.code,{children:"beforeAll"})," or ",(0,s.jsx)(n.code,{children:"beforeEach"})," block."]}),"\n",(0,s.jsx)(n.h3,{id:"describeskipeachtablename-fn",children:(0,s.jsx)(n.code,{children:"describe.skip.each(table)(name, fn)"})}),"\n",(0,s.jsx)("a",{href:"https://jestjs.io/docs/27.x/api#describeskipeachtablename-fn",target:"_blank",children:(0,s.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,s.jsx)("img",{alt:"API change",src:"img/apichange.svg"}),"\n",(0,s.jsxs)(n.p,{children:["Also under the aliases: ",(0,s.jsx)(n.code,{children:"xdescribe.each(table)(name, fn)"})," and ",(0,s.jsx)(n.code,{children:"xdescribe.each(...args)(name, fn)"})]}),"\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.code,{children:"describe.skip.each"})," if you want to stop running a suite of data driven tests."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"describe.skip.each"})," is available with two APIs:"]}),"\n",(0,s.jsx)(n.h4,{id:"describeskipeachtablename-fn-1",children:(0,s.jsx)(n.code,{children:"describe.skip.each(table)(name, fn)"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"describe.skip.each({\n\t{1, 1, 2},\n\t{1, 2, 3},\n\t{2, 1, 3},\n})('.add($a, $b)', function(a, b, expected)\n\ttest('will not be ran', function()\n\t\texpect(a + b).toBe(expected)\n\tend)\nend)\n\ntest('will be ran', function()\n\texpect(1 / 0).toBe(math.huge)\nend)\n"})}),"\n",(0,s.jsx)(n.h4,{id:"describeskipeachargsname-fn",children:(0,s.jsx)(n.code,{children:"describe.skip.each(...args)(name, fn)"})}),"\n",(0,s.jsx)("img",{alt:"API change",src:"img/apichange.svg"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"describe.skip.each({'a | b | expected'},\n\t{1, 1, 2},\n\t{1, 2, 3},\n\t{2, 1, 3}\n)('returns $expected when $a is added $b', function(ref)\n\tlocal a, b, expected = ref.a, ref.b, ref.expected\n\n\ttest('will not be ran', function()\n\t\texpect(a + b).toBe(expected)\n\tend)\nend)\n\ntest('will be ran', function()\n\texpect(1 / 0).toBe(math.huge)\nend)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"testname-fn-timeout",children:(0,s.jsx)(n.code,{children:"test(name, fn, timeout)"})}),"\n",(0,s.jsx)("a",{href:"https://jestjs.io/docs/27.x/api#testname-fn-timeout",target:"_blank",children:(0,s.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,s.jsx)("img",{alt:"API change",src:"img/apichange.svg"}),"\n",(0,s.jsxs)(n.p,{children:["Also under the alias: ",(0,s.jsx)(n.code,{children:"it(name, fn, timeout)"})]}),"\n",(0,s.jsxs)(n.p,{children:["All you need in a test file is the ",(0,s.jsx)(n.code,{children:"test"})," method which runs a test. For example, let's say there's a function ",(0,s.jsx)(n.code,{children:"inchesOfRain()"})," that should be zero. Your whole test could be:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"test('did not rain', function()\n\texpect(inchesOfRain()).toBe(0)\nend)\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The first argument is the test name; the second argument is a function that contains the expectations to test. The third argument (optional) is ",(0,s.jsx)(n.code,{children:"timeout"})," (in milliseconds) for specifying how long to wait before aborting. ",(0,s.jsx)(n.em,{children:"Note: The default timeout is 5 seconds."})]}),"\n",(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsxs)(n.p,{children:["If a ",(0,s.jsx)(n.strong,{children:"promise is returned"})," from ",(0,s.jsx)(n.code,{children:"test"}),", Jest Lua will wait for the promise to resolve before letting the test complete."]}),(0,s.jsx)("img",{alt:"API change",src:"img/apichange.svg"}),(0,s.jsxs)(n.p,{children:["Jest Lua will also wait if you ",(0,s.jsx)(n.strong,{children:"provide a second argument to the test function"}),", usually called ",(0,s.jsx)(n.code,{children:"done"}),". This could be handy when you want to test callbacks. See how to test async code ",(0,s.jsx)(n.a,{href:"asynchronous#callbacks",children:"here"}),"."]})]}),"\n",(0,s.jsxs)(n.p,{children:["For example, let's say ",(0,s.jsx)(n.code,{children:"fetchBeverageList()"})," returns a promise that is supposed to resolve to a list that has ",(0,s.jsx)(n.code,{children:"lemon"})," in it. You can test this with:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"test('has lemon in it', function()\n\treturn fetchBeverageList():then(function(list)\n\t\texpect(list).toContain('lemon')\n\tend)\nend)\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Even though the call to ",(0,s.jsx)(n.code,{children:"test"})," will return right away, the test doesn't complete until the promise resolves as well."]}),"\n",(0,s.jsx)(n.h3,{id:"testeachtablename-fn-timeout",children:(0,s.jsx)(n.code,{children:"test.each(table)(name, fn, timeout)"})}),"\n",(0,s.jsx)("a",{href:"https://jestjs.io/docs/27.x/api#testeachtablename-fn-timeout",target:"_blank",children:(0,s.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,s.jsx)("img",{alt:"API change",src:"img/apichange.svg"}),"\n",(0,s.jsxs)(n.p,{children:["Also under the alias: ",(0,s.jsx)(n.code,{children:"it.each(table)(name, fn)"})," and ",(0,s.jsx)(n.code,{children:"it.each(...args)(name, fn)"})]}),"\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.code,{children:"test.each"})," if you keep duplicating the same test with different data. ",(0,s.jsx)(n.code,{children:"test.each"})," allows you to write the test once and pass data in."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"test.each"})," is available with two APIs:"]}),"\n",(0,s.jsxs)(n.h4,{id:"1-testeachtablename-fn-timeout",children:["1. ",(0,s.jsx)(n.code,{children:"test.each(table)(name, fn, timeout)"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"table"}),": ",(0,s.jsx)(n.code,{children:"array"})," of arrays with the arguments that are passed into the ",(0,s.jsx)(n.code,{children:"fn"})," for each row.","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:"Note"})," If you pass in a 1D array of primitives, internally it will be mapped to a table i.e. ",(0,s.jsx)(n.code,{children:"{1, 2, 3} -> {{1}, {2}, {3}}"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"name"}),": ",(0,s.jsx)(n.code,{children:"string"})," the title of the test suite."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"fn"}),": ",(0,s.jsx)(n.code,{children:"function"})," the suite of tests to be ran, this is the function that will receive the parameters in each row as function arguments."]}),"\n",(0,s.jsxs)(n.li,{children:["Optionally, you can provide a ",(0,s.jsx)(n.code,{children:"timeout"})," (in milliseconds) for specifying how long to wait for each row before aborting. ",(0,s.jsx)(n.em,{children:"Note: The default timeout is 5 seconds."})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"test.each({\n\t{1, 1, 2},\n\t{1, 2, 3},\n\t{2, 1, 3},\n})('.add($a, $b)', function(a, b, expected)\n\texpect(a + b).toBe(expected)\nend)\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"test.each({\n\t{a = 1, b = 1, expected = 2},\n\t{a = 1, b = 2, expected = 3},\n\t{a = 2, b = 1, expected = 3},\n})('.add($a, $b)', function(ref)\n\tlocal a, b, expected = ref.a, ref.b, ref.expected\n\texpect(a + b).toBe(expected)\nend)\n"})}),"\n",(0,s.jsxs)(n.h4,{id:"2-testeachargsname-fn-timeout",children:["2. ",(0,s.jsx)(n.code,{children:"test.each(...args)(name, fn, timeout)"})]}),"\n",(0,s.jsx)("img",{alt:"API change",src:"img/apichange.svg"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"...args"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["First argument is a string with headings separated by ",(0,s.jsx)(n.code,{children:"|"}),", or a table with a single element containing that."]}),"\n",(0,s.jsxs)(n.li,{children:["One or more arguments of arrays with the arguments that are passed into the ",(0,s.jsx)(n.code,{children:"fn"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"name"}),": ",(0,s.jsx)(n.code,{children:"String"})," the title of the test suite"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"fn"}),": ",(0,s.jsx)(n.code,{children:"Function"})," the suite of tests to be ran, this is the function that will receive the test data object."]}),"\n",(0,s.jsxs)(n.li,{children:["Optionally, you can provide a ",(0,s.jsx)(n.code,{children:"timeout"})," (in milliseconds) for specifying how long to wait for each row before aborting. ",(0,s.jsx)(n.em,{children:"Note: The default timeout is 5 seconds."})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"test.each('a | b | expected',\n\t{1, 1, 2},\n\t{1, 2, 3},\n\t{2, 1, 3}\n)('returns $expected when $a is added $b', function(ref)\n\tlocal a, b, expected = ref.a, ref.b, ref.expected\n\texpect(a + b).toBe(expected)\nend)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"testfailingname-fn-timeout",children:(0,s.jsx)(n.code,{children:"test.failing(name, fn, timeout)"})}),"\n",(0,s.jsx)("a",{href:"https://jest-archive-august-2023.netlify.app/docs/next/api#testfailingname-fn-timeout",target:"_blank",children:(0,s.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,s.jsx)("img",{alt:"Aligned",src:"img/aligned.svg"}),"\n",(0,s.jsxs)(n.p,{children:["Also under the alias: ",(0,s.jsx)(n.code,{children:"it.failing(name, fn, timeout)"})]}),"\n",(0,s.jsx)(n.p,{children:":::"}),"\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.code,{children:"test.failing"})," when you are writing a test and expecting it to fail. These tests will behave the other way normal tests do. If ",(0,s.jsx)(n.code,{children:"failing"})," test will throw any errors then it will pass. If it does not throw it will fail."]}),"\n",(0,s.jsxs)(n.admonition,{type:"tip",children:[(0,s.jsxs)(n.p,{children:["You can use this type of tests i.e. when writing code in a BDD way. In that case the tests will not show up as failing until they pass. Then you can just remove the ",(0,s.jsx)(n.code,{children:"failing"})," modifier to make them pass."]}),(0,s.jsx)(n.p,{children:"It can also be a nice way to contribute failing tests to a project, even if you don't know how to fix the bug."})]}),"\n",(0,s.jsx)(n.p,{children:"Example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"test.failing('it is not equal', function()\n  expect(5).toBe(6) -- this test will pass\nend)\n\ntest.failing('it is equal', function()\n  expect(10).toBe(10) -- this test will fail\nend)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"testonlyfailingname-fn-timeout",children:(0,s.jsx)(n.code,{children:"test.only.failing(name, fn, timeout)"})}),"\n",(0,s.jsx)("a",{href:"https://jest-archive-august-2023.netlify.app/docs/next/api#testonlyfailingname-fn-timeout",target:"_blank",children:(0,s.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,s.jsx)("img",{alt:"Aligned",src:"img/aligned.svg"}),"\n",(0,s.jsxs)(n.p,{children:["Also under the aliases: ",(0,s.jsx)(n.code,{children:"it.only.failing(name, fn, timeout)"})]}),"\n",(0,s.jsx)(n.p,{children:":::"}),"\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.code,{children:"test.only.failing"})," if you want to only run a specific failing test."]}),"\n",(0,s.jsx)(n.h3,{id:"testskipfailingname-fn-timeout",children:(0,s.jsx)(n.code,{children:"test.skip.failing(name, fn, timeout)"})}),"\n",(0,s.jsx)("a",{href:"https://jest-archive-august-2023.netlify.app/docs/next/api#testskipfailingname-fn-timeout",target:"_blank",children:(0,s.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,s.jsx)("img",{alt:"Aligned",src:"img/aligned.svg"}),"\n",(0,s.jsxs)(n.p,{children:["Also under the aliases: ",(0,s.jsx)(n.code,{children:"it.skip.failing(name, fn, timeout)"})]}),"\n",(0,s.jsx)(n.p,{children:":::"}),"\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.code,{children:"test.skip.failing"})," if you want to skip running a specific failing test."]}),"\n",(0,s.jsx)(n.h3,{id:"testonlyname-fn-timeout",children:(0,s.jsx)(n.code,{children:"test.only(name, fn, timeout)"})}),"\n",(0,s.jsx)("a",{href:"https://jestjs.io/docs/27.x/api#testonlyname-fn-timeout",target:"_blank",children:(0,s.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,s.jsx)("img",{alt:"Aligned",src:"img/aligned.svg"}),"\n",(0,s.jsxs)(n.p,{children:["Also under the aliases: ",(0,s.jsx)(n.code,{children:"it.only(name, fn, timeout)"}),", and ",(0,s.jsx)(n.code,{children:"fit(name, fn, timeout)"})]}),"\n",(0,s.jsxs)(n.p,{children:["When you are debugging a large test file, you will often only want to run a subset of tests. You can use ",(0,s.jsx)(n.code,{children:".only"})," to specify which tests are the only ones you want to run in that test file."]}),"\n",(0,s.jsxs)(n.p,{children:["Optionally, you can provide a ",(0,s.jsx)(n.code,{children:"timeout"})," (in milliseconds) for specifying how long to wait before aborting. ",(0,s.jsx)(n.em,{children:"Note: The default timeout is 5 seconds."})]}),"\n",(0,s.jsx)(n.p,{children:"For example, let's say you had these tests:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"test.only('it is raining', function()\n\texpect(inchesOfRain()).toBeGreaterThan(0)\nend)\n\ntest('it is not snowing', function()\n  expect(inchesOfSnow()).toBe(0)\nend)\n"})}),"\n",(0,s.jsxs)(n.p,{children:['Only the "it is raining" test will run in that test file, since it is run with ',(0,s.jsx)(n.code,{children:"test.only"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["Usually you wouldn't check code using ",(0,s.jsx)(n.code,{children:"test.only"})," into source control - you would use it for debugging, and remove it once you have fixed the broken tests."]}),"\n",(0,s.jsx)(n.h3,{id:"testonlyeachtablename-fn",children:(0,s.jsx)(n.code,{children:"test.only.each(table)(name, fn)"})}),"\n",(0,s.jsx)("a",{href:"https://jestjs.io/docs/27.x/api#testonlyeachtablename-fn-1",target:"_blank",children:(0,s.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,s.jsx)("img",{alt:"API change",src:"img/apichange.svg"}),"\n",(0,s.jsxs)(n.p,{children:["Also under the aliases: ",(0,s.jsx)(n.code,{children:"it.only.each(table)(name, fn)"}),", ",(0,s.jsx)(n.code,{children:"fit.each(table)(name, fn)"}),", ",(0,s.jsx)(n.code,{children:"it.only.each`table`(name, fn)"})," and ",(0,s.jsx)(n.code,{children:"fit.each`table`(name, fn)"})]}),"\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.code,{children:"test.only.each"})," if you want to only run specific tests with different test data."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"test.only.each"})," is available with two APIs:"]}),"\n",(0,s.jsx)(n.h4,{id:"testonlyeachtablename-fn-1",children:(0,s.jsx)(n.code,{children:"test.only.each(table)(name, fn)"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"test.only.each({\n\t{1, 1, 2},\n\t{1, 2, 3},\n\t{2, 1, 3},\n})('will be ran', function(a, b, expected)\n\texpect(a + b).toBe(expected)\nend)\n\ntest('will not be ran', function()\n\texpect(1 / 0).toBe(math.huge)\nend)\n"})}),"\n",(0,s.jsx)(n.h4,{id:"testonlyeachargsname-fn",children:(0,s.jsx)(n.code,{children:"test.only.each(...args)(name, fn)"})}),"\n",(0,s.jsx)("img",{alt:"API change",src:"img/apichange.svg"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"test.only.each({'a | b | expected'},\n\t{1, 1, 2},\n\t{1, 2, 3},\n\t{2, 1, 3}\n)('will be ran', function(ref)\n\tlocal a, b, expected = ref.a, ref.b, ref.expected\n\texpect(a + b).toBe(expected)\nend)\n\ntest('will not be ran', function()\n\texpect(1 / 0).toBe(math.huge)\nend)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"testskipname-fn",children:(0,s.jsx)(n.code,{children:"test.skip(name, fn)"})}),"\n",(0,s.jsx)("a",{href:"https://jestjs.io/docs/27.x/api#testskipname-fn",target:"_blank",children:(0,s.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,s.jsx)("img",{alt:"Aligned",src:"img/aligned.svg"}),"\n",(0,s.jsxs)(n.p,{children:["Also under the aliases: ",(0,s.jsx)(n.code,{children:"it.skip(name, fn)"}),", ",(0,s.jsx)(n.code,{children:"xit(name, fn)"}),", and ",(0,s.jsx)(n.code,{children:"xtest(name, fn)"})]}),"\n",(0,s.jsxs)(n.p,{children:["When you are maintaining a large codebase, you may sometimes find a test that is temporarily broken for some reason. If you want to skip running this test, but you don't want to delete this code, you can use ",(0,s.jsx)(n.code,{children:"test.skip"})," to specify some tests to skip."]}),"\n",(0,s.jsx)(n.p,{children:"For example, let's say you had these tests:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"test('it is raining', function()\n\texpect(inchesOfRain()).toBeGreaterThan(0)\nend)\n\ntest.skip('it is not snowing', function()\n\texpect(inchesOfSnow()).toBe(0)\nend)\n"})}),"\n",(0,s.jsxs)(n.p,{children:['Only the "it is raining" test will run, since the other test is run with ',(0,s.jsx)(n.code,{children:"test.skip"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["You could comment the test out, but it's often a bit nicer to use ",(0,s.jsx)(n.code,{children:"test.skip"})," because it will maintain indentation and syntax highlighting."]}),"\n",(0,s.jsx)(n.h3,{id:"testskipeachtablename-fn",children:(0,s.jsx)(n.code,{children:"test.skip.each(table)(name, fn)"})}),"\n",(0,s.jsx)("a",{href:"https://jestjs.io/docs/27.x/api#testskipeachtablename-fn",target:"_blank",children:(0,s.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,s.jsx)("img",{alt:"API change",src:"img/apichange.svg"}),"\n",(0,s.jsxs)(n.p,{children:["Also under the aliases: ",(0,s.jsx)(n.code,{children:"it.skip.each(table)(name, fn)"}),", ",(0,s.jsx)(n.code,{children:"xit.each(table)(name, fn)"}),", ",(0,s.jsx)(n.code,{children:"xtest.each(table)(name, fn)"}),", ",(0,s.jsx)(n.code,{children:"it.skip.each`table`(name, fn)"}),", ",(0,s.jsx)(n.code,{children:"xit.each(..args)(name, fn) `` and "}),"xtest.each(...args)(name, fn)`"]}),"\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.code,{children:"test.skip.each"})," if you want to stop running a collection of data driven tests."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"test.skip.each"})," is available with two APIs:"]}),"\n",(0,s.jsx)(n.h4,{id:"testskipeachtablename-fn-1",children:(0,s.jsx)(n.code,{children:"test.skip.each(table)(name, fn)"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"test.skip.each({\n\t{1, 1, 2},\n\t{1, 2, 3},\n\t{2, 1, 3},\n})('will not be ran', function(a, b, expected)\n\texpect(a + b).toBe(expected)\nend)\n\ntest('will be ran', function()\n\texpect(1 / 0).toBe(math.huge)\nend)\n"})}),"\n",(0,s.jsx)(n.h4,{id:"testskipeachargsname-fn",children:(0,s.jsx)(n.code,{children:"test.skip.each(...args)(name, fn)"})}),"\n",(0,s.jsx)("img",{alt:"API change",src:"img/apichange.svg"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"test.skip.each({'a | b | expected'},\n\t{1, 1, 2},\n\t{1, 2, 3},\n\t{2, 1, 3}\n)('will not be ran', function(ref)\n\tlocal a, b, expected = ref.a, ref.b, ref.expected\n\texpect(a + b).toBe(expected)\nend)\n\ntest('will be ran', function()\n\texpect(1 / 0).toBe(math.huge)\nend)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"testtodoname",children:(0,s.jsx)(n.code,{children:"test.todo(name)"})}),"\n",(0,s.jsx)("a",{href:"https://jestjs.io/docs/27.x/api#testtodoname",target:"_blank",children:(0,s.jsx)("img",{alt:"Jest",src:"img/jestjs.svg"})}),"\n",(0,s.jsx)("img",{alt:"Aligned",src:"img/aligned.svg"}),"\n",(0,s.jsxs)(n.p,{children:["Also under the alias: ",(0,s.jsx)(n.code,{children:"it.todo(name)"})]}),"\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.code,{children:"test.todo"})," when you are planning on writing tests. These tests will be highlighted in the summary output at the end so you know how many tests you still need todo."]}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.p,{children:["If you supply a test callback function then the ",(0,s.jsx)(n.code,{children:"test.todo"})," will throw an error. If you have already implemented the test and it is broken and you do not want it to run, then use ",(0,s.jsx)(n.code,{children:"test.skip"})," instead."]})}),"\n",(0,s.jsx)(n.h4,{id:"api",children:"API"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"name"}),": ",(0,s.jsx)(n.code,{children:"string"})," the title of the test plan."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"local function add(a, b)\n\treturn a + b\nend\n\ntest.todo('add should be associative')\n"})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},4252:(e,n,t)=>{t.d(n,{A:()=>c});t(6540);var s=t(5195);const i={tableOfContentsInline:"tableOfContentsInline_prmo"};var a=t(4848);function c(e){let{toc:n,minHeadingLevel:t,maxHeadingLevel:c}=e;return(0,a.jsx)("div",{className:i.tableOfContentsInline,children:(0,a.jsx)(s.A,{toc:n,minHeadingLevel:t,maxHeadingLevel:c,className:"table-of-contents",linkClassName:null})})}},5195:(e,n,t)=>{t.d(n,{A:()=>m});var s=t(6540),i=t(6342);function a(e){const n=e.map((e=>({...e,parentIndex:-1,children:[]}))),t=Array(7).fill(-1);n.forEach(((e,n)=>{const s=t.slice(2,e.level);e.parentIndex=Math.max(...s),t[e.level]=n}));const s=[];return n.forEach((e=>{const{parentIndex:t,...i}=e;t>=0?n[t].children.push(i):s.push(i)})),s}function c(e){let{toc:n,minHeadingLevel:t,maxHeadingLevel:s}=e;return n.flatMap((e=>{const n=c({toc:e.children,minHeadingLevel:t,maxHeadingLevel:s});return function(e){return e.level>=t&&e.level<=s}(e)?[{...e,children:n}]:n}))}function l(e){const n=e.getBoundingClientRect();return n.top===n.bottom?l(e.parentNode):n}function o(e,n){let{anchorTopOffset:t}=n;const s=e.find((e=>l(e).top>=t));if(s){return function(e){return e.top>0&&e.bottom<window.innerHeight/2}(l(s))?s:e[e.indexOf(s)-1]??null}return e[e.length-1]??null}function r(){const e=(0,s.useRef)(0),{navbar:{hideOnScroll:n}}=(0,i.p)();return(0,s.useEffect)((()=>{e.current=n?0:document.querySelector(".navbar").clientHeight}),[n]),e}function d(e){const n=(0,s.useRef)(void 0),t=r();(0,s.useEffect)((()=>{if(!e)return()=>{};const{linkClassName:s,linkActiveClassName:i,minHeadingLevel:a,maxHeadingLevel:c}=e;function l(){const e=function(e){return Array.from(document.getElementsByClassName(e))}(s),l=function(e){let{minHeadingLevel:n,maxHeadingLevel:t}=e;const s=[];for(let i=n;i<=t;i+=1)s.push(`h${i}.anchor`);return Array.from(document.querySelectorAll(s.join()))}({minHeadingLevel:a,maxHeadingLevel:c}),r=o(l,{anchorTopOffset:t.current}),d=e.find((e=>r&&r.id===function(e){return decodeURIComponent(e.href.substring(e.href.indexOf("#")+1))}(e)));e.forEach((e=>{!function(e,t){t?(n.current&&n.current!==e&&n.current.classList.remove(i),e.classList.add(i),n.current=e):e.classList.remove(i)}(e,e===d)}))}return document.addEventListener("scroll",l),document.addEventListener("resize",l),l(),()=>{document.removeEventListener("scroll",l),document.removeEventListener("resize",l)}}),[e,t])}var h=t(8774),u=t(4848);function f(e){let{toc:n,className:t,linkClassName:s,isChild:i}=e;return n.length?(0,u.jsx)("ul",{className:i?void 0:t,children:n.map((e=>(0,u.jsxs)("li",{children:[(0,u.jsx)(h.A,{to:`#${e.id}`,className:s??void 0,dangerouslySetInnerHTML:{__html:e.value}}),(0,u.jsx)(f,{isChild:!0,toc:e.children,className:t,linkClassName:s})]},e.id)))}):null}const x=s.memo(f);function m(e){let{toc:n,className:t="table-of-contents table-of-contents__left-border",linkClassName:l="table-of-contents__link",linkActiveClassName:o,minHeadingLevel:r,maxHeadingLevel:h,...f}=e;const m=(0,i.p)(),p=r??m.tableOfContents.minHeadingLevel,j=h??m.tableOfContents.maxHeadingLevel,g=function(e){let{toc:n,minHeadingLevel:t,maxHeadingLevel:i}=e;return(0,s.useMemo)((()=>c({toc:a(n),minHeadingLevel:t,maxHeadingLevel:i})),[n,t,i])}({toc:n,minHeadingLevel:p,maxHeadingLevel:j});return d((0,s.useMemo)((()=>{if(l&&o)return{linkClassName:l,linkActiveClassName:o,minHeadingLevel:p,maxHeadingLevel:j}}),[l,o,p,j])),(0,u.jsx)(x,{toc:g,className:t,linkClassName:l,...f})}},8453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>l});var s=t(6540);const i={},a=s.createContext(i);function c(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);